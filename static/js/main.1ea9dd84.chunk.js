(this["webpackJsonphabbit-tracker"]=this["webpackJsonphabbit-tracker"]||[]).push([[0],{279:function(e,t,n){},686:function(e,t,n){},770:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,s,u,d,l,b,h,f,m,j,p=n(0),x=n.n(p),O=n(29),g=n.n(O),v=(n(279),n(32)),w=n(4),y=n(13),k={base:"10px",family:"Arial",light:300,regular:400,medium:500,bold:700,sizes:{xs:"0.75rem",s:"1rem",sm:"1.25rem",m:"1.5rem",ml:"2rem",l:"3rem"}},S={colors:{common:{black:"#000000",white:"#FFFFFF"}},font:k,margin:{xs:"0.5rem",s:"0.75rem",sm:"1rem",m:"1.25rem",ml:"1.5rem",l:"1.75rem"},time:{short:100,medium:300,long:500},zIndex:{max:1e3,medium:500,low:100},chooseFS:function(e){var t=k.sizes,n=Object.keys(t).find((function(t){return t===e}));return void 0!==n?t[n]:t.xs},sizes:{nav:"50px",dot:"20px"},media:{phone:{s:"320px"},tablet:{s:"768px",l:"1024px"},desktop:{s:"1366px",l:"1920px"}}},C="#AFE9FF",z=Object(y.a)(Object(y.a)({},S),{},{gridTile:{size:50},colors:Object(y.a)(Object(y.a)({},S.colors),{},{body:"#F3FFF2",calendar:{navigation:"#EDEFFF"},text:{primary:S.colors.common.black,secondary:"#808080",nav:"#A5A5A5"},button:{background:"#FFC136",text:"#fff"},nav:{topLeft:"#B7FF96",topRight:"#89FFED",bottomLeft:"#FDF194",bottomRight:"#FFADFC",background:"#A4FF9D",button:"#FFED67"},tile:{background:"#FFFCAF",backgroundActive:C,border:"#77CBFF"},modalBackground:C,error:{main:"#FF9191",border:"#730000",text:"#730000"},success:{main:"#d9ffd9",border:"#10b9b0",text:"#5cb85c"},loading:{main:"#a6fff9",border:"#1b968e",text:"#1b968e"},border:"#707070"})}),E=n(1),D=Object(p.createContext)(z),L=D.Provider,T=function(e){var t=e.children;return Object(E.jsx)(L,{value:z,children:Object(E.jsx)(w.a,{theme:z,children:t})})},A=n(9),F=new(n(275).a),R=Object(p.createContext)({token:void 0,login:function(){},logout:function(){}}),M=R.Provider,I=function(){var e=new Date;return e.setDate(e.getDate()+14),e},V=function(){return Object(p.useContext)(R)},N=function(e){var t=e.children,n=Object(p.useState)(F.get("token")),r=Object(A.a)(n,2),a=r[0],o=r[1],c={token:a,login:function(e){F.set("token",e,{path:"/",expires:I()}),o(e)},logout:function(){F.remove("token",{path:"/"}),o(void 0)}};return Object(E.jsx)(M,{value:c,children:t})},H=Object(p.createContext)({open:!1,message:"",setOpen:function(){},changeVisibility:function(){},changeMessage:function(){},showAlert:function(e,t){console.log(e,t)}}),W=function(){return Object(p.useContext)(H)},P=function(e){var t=Object(p.useState)(!1),n=Object(A.a)(t,2),r=n[0],a=n[1],o=Object(p.useState)(""),c=Object(A.a)(o,2),i=c[0],s=c[1],u=Object(p.useState)(0),d=Object(A.a)(u,2),l=d[0],b=d[1],h={open:r,message:i,variant:l,changeVisibility:function(e){return a(e)},changeMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";a(!1),s(e),b(t)},showAlert:function(e,t){h.changeMessage(e,t),h.changeVisibility(!0)}};return Object(E.jsx)(H.Provider,Object(y.a)({value:h},e))},G=Object(p.createContext)({refHabbit:!1,refLabel:!1,handleRefHabbit:function(){},handleRefLabel:function(){}}),B=G.Provider,U=function(){return Object(p.useContext)(G)},_=function(e){var t=e.children,n=Object(p.useState)(!1),r=Object(A.a)(n,2),a=r[0],o=r[1],c=Object(p.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1],d={refHabbit:a,refLabel:s,handleRefHabbit:function(){return o((function(e){return!e}))},handleRefLabel:function(){return u((function(e){return!e}))}};return Object(E.jsx)(B,{value:d,children:t})},Y=n(5),J=w.d.button(r||(r=Object(Y.a)(["\n  position: fixed;\n  height: ",";\n  width: ",";\n  top: ",";\n  background-color: transparent;\n  border: none;\n  right: ",";\n  padding: 0;\n  ","\n  transition: ",";\n  z-index: ",";\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.open&&"transform: rotate(-45deg);"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")}),(function(e){return e.theme.zIndex.max})),X=w.d.div(a||(a=Object(Y.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  position: absolute;\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.dot}),(function(e){return e.theme.sizes.dot}),(function(e){return e.open?"0":"1"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")})),q=Object(w.d)(X)(o||(o=Object(Y.a)(["\n  background-color: ",";\n  top: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.topLeft})),$=Object(w.d)(X)(c||(c=Object(Y.a)(["\n  background-color: ",";\n  top: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.topRight})),K=Object(w.d)(X)(i||(i=Object(Y.a)(["\n  background-color: ",";\n  bottom: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.bottomLeft})),Q=Object(w.d)(X)(s||(s=Object(Y.a)(["\n  background-color: ",";\n  bottom: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.bottomRight})),Z=w.d.div(u||(u=Object(Y.a)(["\n  position: absolute;\n  height: 3px;\n  width: ",";\n  background-color: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.colors.error.main}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")})),ee=Object(w.d)(Z)(d||(d=Object(Y.a)(["\n  transform: rotate(90deg);\n  top: 50%;\n"]))),te=n(8),ne=n.n(te),re=n(12),ae={DASHBOARD:"/",CALENDAR:"/calendar",LOGIN:"/login",REGISTER:"/register"},oe=w.d.section(l||(l=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),ce=Object(w.d)(oe)(b||(b=Object(Y.a)(["\n  height: 100vh;\n  width: 100%;\n  padding: 0 1rem;\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-between;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),ie=Object(w.d)(oe)(h||(h=Object(Y.a)(["\n  @media (min-width: ",") {\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.margin.l})),se=w.d.h2(f||(f=Object(Y.a)(["\n  font-size: ",";\n  margin: "," 0;\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.font.sizes.l}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.ml})),ue=w.d.p(m||(m=Object(Y.a)(["\n  color: ",";\n  text-align: justify;\n  font-size: ",";\n  margin-bottom: ",";\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.l}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.sm})),de=w.d.p(j||(j=Object(Y.a)(["\n  font-size: ",";\n  margin: ",";\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){return e.theme.margin.s})),le=function(){return Object(E.jsx)(Kn,{children:Object(E.jsxs)(ce,{children:[Object(E.jsxs)(ie,{children:[Object(E.jsx)(se,{children:"Habbit tracker"}),Object(E.jsx)(ue,{children:"Track your progress in very simple and personalized app"})]}),Object(E.jsxs)(oe,{children:[Object(E.jsx)(Bn,{as:v.b,to:ae.REGISTER,size:"m",children:"Create account for free"}),Object(E.jsx)(de,{children:"or"}),Object(E.jsx)(Bn,{as:v.b,to:ae.LOGIN,size:"m",children:"Log in"})]})]})})},be=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],he=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fe=["January","February","March","April","May","Juny","Juni","August","September","October","November","December"],me=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},je=function(e){var t=e.getDay();return 0===t&&(t=7),t-=1},pe=function(e){return function(e){var t=[e.getFullYear(),e.getMonth(),e.getDate()],n=t[1],r=t[2];return"".concat(t[0],"-").concat(n<9?"0".concat(n+1):n+1,"-").concat(r<10?"0".concat(r):r)}(e).split("-").reverse().join(".")},xe=function(e,t,n,r,a){var o=Object(p.useState)([]),c=Object(A.a)(o,2),i=c[0],s=c[1];return Object(p.useEffect)((function(){for(var n=new Date(t.getTime()),o=0,c=[],i=!1,u=-1,d=0;d<6;d++)for(var l=0;l<7;l++){var b=e.filter((function(e){return new Date(e.dateStart)<=n&&new Date(e.dateEnd)>=n&&e.daysOfWeek.includes(je(n))}));i=!1,r<=n&&n<a&&(r.getTime()===n.getTime()&&(u=je(n)),i=!0,o++),c.push({id:13*d+17*l,day:o,date:new Date(n.getTime()),events:b,active:i}),n.setDate(n.getDate()+1)}for(var h=0;h<6;h++)h<u&&c.unshift({id:167*h+1,day:-1,events:[],active:!0});s(c)}),[e,t,n]),[i]};var Oe,ge,ve=function(e,t,n){var r=Object(p.useState)(""),a=Object(A.a)(r,2),o=a[0],c=a[1],i=Object(p.useState)(!1),s=Object(A.a)(i,2),u=s[0],d=s[1],l=Object(p.useState)([]),b=Object(A.a)(l,2),h=b[0],f=b[1];return Object(p.useEffect)((function(){(function(){var e=Object(re.a)(ne.a.mark((function e(){var r,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),e.prev=1,null===(r=window.caches)||void 0===r||r.open(n).then((function(e){return e.keys()})).then((function(e){e.forEach(function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.match(t);case 2:if(!(n=e.sent)){e.next=10;break}return e.next=6,n.json();case 6:r=e.sent,f(r),e.next=11;break;case 10:c("This data does not exist in your cache memory.");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),!navigator.onLine){e.next=8;break}return e.next=6,t();case 6:a=e.sent,f(a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c(e.t0.message);case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()()}),e),[h,u,o]},we=function(){var e=Object(p.useState)([0,0]),t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(p.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},ye=(n(263),n(264),n(66),n(25),n(18)),ke=function(e){return{required:"Field ".concat(e," is required.")}},Se={pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Incorrect characters."}},Ce=function(e){return Object(y.a)(Object(y.a)({},ke(e)),{},{minLength:{value:6,message:"Field ".concat(e," must have at least 6 characters.")},maxLength:{value:30,message:"Field ".concat(e," must have maximum 30 characters.")}})},ze=function(e,t){var n="Your time is not in boundaries.";if(e&&t){var r=t.split(":"),a=Object(A.a)(r,2),o=a[0],c=a[1],i=e.split(":"),s=Object(A.a)(i,2),u=s[0],d=s[1];return u<o||(u===o&&d<c||n)}return n},Ee=function(e,t){return{validate:{min:function(t){return ze(e,t)},max:function(e){return ze(e,t)}}}};!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(Oe||(Oe={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(ge||(ge={}));var De,Le,Te,Ae,Fe,Re,Me,Ie,Ve,Ne,He,We,Pe,Ge,Be,Ue,_e,Ye,Je,Xe,qe,$e,Ke,Qe,Ze,et,tt,nt,rt,at,ot,ct,it,st,ut,dt,lt,bt,ht,ft,mt,jt,pt="".concat("https://habbit-tracker-back.herokuapp.com","/"),xt="".concat(pt,"users/"),Ot="".concat(pt,"events/"),gt="".concat(pt,"labels/"),vt={DASHBOARD:pt,LOGIN:"".concat(xt,"login/"),REGISTER:"".concat(xt,"register/"),LOGOUT:"".concat(xt,"logout/"),EVENTS:Ot,LABELS:gt},wt=w.d.div(De||(De=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  max-width: 100%;\n  @media (min-width: ",") {\n    justify-content: flex-start;\n    padding-top: 0;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),yt=w.d.div(Le||(Le=Object(Y.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),kt=w.d.button(Te||(Te=Object(Y.a)(["\n  border: none;\n  width: ",";\n  height: ",";\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    height: ",";\n  }\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){return e.theme.colors.common.white}),(function(e){return e.theme.media.tablet.s}),(function(e){var t=e.theme;return"".concat(2*t.gridTile.size,"px")}),(function(e){var t=e.theme;return"".concat(2*t.gridTile.size,"px")})),St=w.d.div(Ae||(Ae=Object(Y.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background-color: ",";\n  top: ",";\n  left: ",";\n  ","\n"])),(function(e){var t=e.size,n=e.alone;return"".concat(n?t/1.3:t,"px")}),(function(e){var t=e.size,n=e.alone;return"".concat(n?t/1.3:t,"px")}),(function(e){return e.color}),(function(e){var t=e.position;return"".concat(t,"px")}),(function(e){var t=e.position;return"".concat(t,"px")}),(function(e){return e.alone&&"transform: translate(-50%,-50%);top: 50%;left:50%"})),Ct=w.d.p(Fe||(Fe=Object(Y.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: ",";\n"])),(function(e){return e.theme.zIndex.low})),zt=function(e,t){var n=t*(1.3+.1*(e.length-2))/e.length,r=(t-n)/(e.length-1),a=-r;return e.map((function(t){return a+=r,Object(E.jsx)(St,{position:a,alone:1===e.length,color:t,size:n},a)}))},Et=function(e){var t=e.colors,n=e.day,r=e.handleDayChange,a=Object(p.useContext)(D).gridTile.size,o=we(),c=Object(A.a)(o,1)[0];return Object(E.jsx)(kt,{"data-testid":"".concat(n,"-tileDay"),onClick:r,children:-1===n?null:Object(E.jsxs)(E.Fragment,{children:[t&&zt(t,c>768?2*a:a),Object(E.jsx)(Ct,{"data-testid":"day",children:n})]})})},Dt=w.d.div(Re||(Re=Object(Y.a)(["\n  margin-top: 5rem;\n"]))),Lt=w.d.div(Me||(Me=Object(Y.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n  grid-template-rows: auto;\n  max-width: 100%;\n  border: 1px solid ",";\n  border-top: none;\n  background-color: #fff;\n"])),(function(e){return e.theme.colors.border})),Tt=Object(w.d)(Lt)(Ie||(Ie=Object(Y.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  border-bottom: none;\n  justify-items: center;\n"])),(function(e){return e.theme.colors.calendar.navigation}),(function(e){return e.theme.colors.border})),At=w.d.div(Ve||(Ve=Object(Y.a)(["\n  width: ",";\n  padding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){return e.theme.margin.s})),Ft=function(e){var t=e.days,n=e.month,r=e.year,a=e.moveDate,o=e.handleDayChange;return Object(E.jsxs)(Dt,{children:[Object(E.jsx)(Ht,{navId:"main",header:"".concat(fe[n]," ").concat(r),moveDate:a}),Object(E.jsx)(Tt,{children:be.map((function(e){return Object(E.jsx)(At,{children:e},e)}))}),Object(E.jsx)(Lt,{children:t.map((function(e){var t=e.id,n=e.day,r=e.events,a=e.date;return Object(E.jsx)(Et,{handleDayChange:function(){return o(a)},colors:r.map((function(e){var t=e.label;return(null===t||void 0===t?void 0:t.color)?t.color:"#dedede"})),day:n},t)}))})]})},Rt=n(160),Mt=n(161),It=w.d.div(Ne||(Ne=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: "," 0;\n"])),(function(e){return e.theme.margin.s})),Vt=w.d.button(He||(He=Object(Y.a)(["\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.m})),Nt=w.d.h3(We||(We=Object(Y.a)(["\n  width: 200px;\n  text-align: center;\n  line-height: 100%;\n  margin: 0;\n  @media (min-width: ",") {\n    width: 400px;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.font.sizes.ml})),Ht=function(e){var t=e.header,n=e.moveDate,r=e.navId,a=e.backToCalendar;return Object(E.jsxs)(It,{children:[Object(E.jsx)(Vt,{"data-testid":"moveLeft-".concat(r),onClick:function(){return n(Oe.LEFT)},children:Object(E.jsx)(Rt.a,{icon:Mt.a})}),Object(E.jsx)(Nt,{onClick:a,"data-testid":"dateCalendar-".concat(r),children:t}),Object(E.jsx)(Vt,{"data-testid":"moveRight-".concat(r),onClick:function(){return n(Oe.RIGHT)},children:Object(E.jsx)(Rt.a,{icon:Mt.b})})]})},Wt=w.d.div(Pe||(Pe=Object(Y.a)(["\n  background-color: ",";\n  min-width: 275px;\n  min-height: 500px;\n  max-height: 500px;\n  border: 1px solid ",";\n  overflow-y: scroll;\n"])),(function(e){var t=e.theme;return e.active?t.colors.tile.backgroundActive:t.colors.tile.background}),(function(e){return e.theme.colors.border})),Pt=w.d.h3(Ge||(Ge=Object(Y.a)(["\n  font-size: ",";\n  margin: "," 0;\n  text-align: center;\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m})),Gt=function(e){var t=e.events,n=e.header,r=e.active,a=e.labels,o=e.date,c=Object(A.a)(o,3),i=c[0],s=c[1],u=c[2];return Object(E.jsxs)(Wt,{"data-testid":"".concat(i,"-").concat(s,"-").concat(u),active:r,children:[Object(E.jsx)(Pt,{children:n}),t.map((function(e){var t;return Object(E.jsx)(rn,{habbit:e,labels:a,day:o,checked:-1!==(null===e||void 0===e||null===(t=e.checked)||void 0===t?void 0:t.findIndex((function(e){var t=e.day,n=e.month,r=e.year;return t===u&&s===n&&r===i})))},e._id)}))]})},Bt=function(){var e=Object(re.a)(ne.a.mark((function e(t,n){var r,a,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"GET"});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.json());case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(re.a)(ne.a.mark((function e(t,n,r){var a,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(vt.EVENTS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:r?"PUT":"POST",body:JSON.stringify(n)});case 2:if(201!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,a.json();case 7:throw o=e.sent,c=o.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_t=function(){var e=Object(re.a)(ne.a.mark((function e(t,n,r){var a,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(vt.LABELS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:r?"PUT":"POST",body:JSON.stringify(n)});case 2:if(200!==(a=e.sent).status||!r){e.next=5;break}return e.abrupt("return",a.json());case 5:if(201!==a.status){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,a.json();case 9:throw o=e.sent,c=o.message,new Error(c);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(re.a)(ne.a.mark((function e(t,n){var r,a,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(vt.LABELS).concat(n),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(re.a)(ne.a.mark((function e(t,n){var r,a,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(vt.EVENTS).concat(n),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(re.a)(ne.a.mark((function e(t,n,r){var a,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(vt.EVENTS,"check/").concat(n,"/"),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"PATCH",body:JSON.stringify(r)});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",a.json());case 5:return e.next=7,a.json();case 7:throw o=e.sent,c=o.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qt=w.d.div(Be||(Be=Object(Y.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),$t=w.d.small(Ue||(Ue=Object(Y.a)(["\n  background-color: ",";\n  padding: ",";\n  width: auto;\n  border-radius: 20px;\n"])),(function(e){return e.color}),(function(e){return e.theme.margin.s})),Kt=Object(w.c)(_e||(_e=Object(Y.a)(["\n  text-decoration: line-through;\n  color: gray;\n"]))),Qt=w.d.div(Ye||(Ye=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 ",";\n  border-left: 1px solid ",";\n  margin: 0 ",";\n  margin-top: ",";\n\n  &:hover {\n    ",";\n  }\n\n  ",";\n"])),(function(e){return e.theme.margin.s}),(function(e){return e.theme.colors.tile.border}),(function(e){return e.theme.margin.s}),(function(e){return e.theme.margin.xs}),(function(){return navigator.onLine&&"cursor: pointer"}),(function(e){return e.checked&&Kt})),Zt=w.d.h2(Je||(Je=Object(Y.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n  margin-top: 0;\n"])),(function(e){return e.theme.font.sizes.ml}),(function(e){return e.theme.margin.xs})),en=w.d.p(Xe||(Xe=Object(Y.a)(["\n  color: gray;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),tn=w.d.p(qe||(qe=Object(Y.a)(["\n  text-align: justify;\n"]))),nn=ge.SUCCESS,rn=function(e){var t=e.habbit,n=e.labels,r=e.checked,a=e.day,o=t.title,c=t.timeEnd,i=t.timeStart,s=t.description,u=t.label,d=t._id,l=Object(p.useState)(!1),b=Object(A.a)(l,2),h=b[0],f=b[1],m=Object(p.useRef)(W()),j=V().token,x=U().handleRefHabbit,O=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jt(j,d);case 3:m.current.showAlert("Successfully deleted habbit.",nn),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt(j,d,a);case 3:m.current.showAlert("Successful state change.",nn),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(qt,{children:[Object(E.jsx)(Bn,{size:"s",mx:"0.75rem",disabled:!navigator.onLine,noMaxWidth:!0,"data-testid":"edit",onClick:function(){return f(!0)},children:"Edit habbit"}),Object(E.jsx)(Bn,{size:"s",close:!0,noMaxWidth:!0,disabled:!navigator.onLine,"data-testid":"delete",onClick:O,children:"X"}),Object(E.jsxs)(Qt,{"data-testid":"habbit".concat(d),checked:r,onClick:navigator.onLine?function(){return g()}:function(){},children:[u&&Object(E.jsx)($t,{color:u.color,children:u.title}),Object(E.jsx)(Zt,{children:o}),Object(E.jsx)(en,{children:"".concat(i,"-").concat(c)}),Object(E.jsx)(tn,{children:s})]}),Object(E.jsx)(bn,{open:h,handleClose:function(){return f(!1)},labels:n,event:t})]})},an=w.d.div($e||($e=Object(Y.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: scroll;\n"]))),on=function(e,t,n){if(e.length>1&&t&&t.current&&t.current.scrollWidth>n){var r,a=t.current.scrollWidth/2-n/2;null===t||void 0===t||null===(r=t.current)||void 0===r||r.scroll(a,0)}},cn=function(e){var t=e.days,n=e.labels,r=e.dateClicked,a=Object(p.useRef)(null),o=we(),c=Object(A.a)(o,1)[0],i=Object(p.useState)(t.length),s=Object(A.a)(i,2),u=s[0],d=s[1];return Object(p.useLayoutEffect)((function(){on(t,a,c)}),[r,a]),Object(p.useLayoutEffect)((function(){0===u&&on(t,a,c),d(t.length)}),[t,a]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(an,{ref:a,children:t.map((function(e){var t=e.events,r=e.id,a=e.date,o=new Date;return o.setHours(0,0,0,0),a?Object(E.jsx)(Gt,{active:o.getTime()===(null===a||void 0===a?void 0:a.getTime()),header:he[je(a)],events:t,labels:n,date:[a.getFullYear(),a.getMonth(),a.getDate()]},r):null}))})})},sn=n(64),un=n(23),dn=w.d.div(Ke||(Ke=Object(Y.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ln=ge.SUCCESS,bn=function(e){var t=e.handleClose,n=e.open,r=e.labels,a=e.event,o=Object(un.b)({defaultValues:{timeStart:"00:10",timeEnd:"23:50",label:"",daysOfWeek:[],dateStart:"",dateEnd:""}}),c=o.register,i=o.handleSubmit,s=o.errors,u=o.control,d=o.reset,l=o.watch,b=Object(p.useRef)(W()),h=V().token,f=U().handleRefHabbit;Object(p.useEffect)((function(){var e={};if(a){var t=a.label,n=a.dateStart,r=a.dateEnd;e=Object(y.a)(Object(y.a)({},a),{},{label:null===t||void 0===t?void 0:t._id,dateStart:new Date(n),dateEnd:new Date(r)}),d(e)}}),[a]);var m=function(){var e=Object(re.a)(ne.a.mark((function e(n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ut(h,n,null===a||void 0===a?void 0:a._id);case 3:b.current.showAlert("Succesfuly ".concat((null===a||void 0===a?void 0:a._id)?"edited":"added"," habbit."),ln),t(),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=l("dateStart")?new Date(l("dateStart")):void 0,x=l("dateEnd")?new Date(l("dateEnd")):void 0,O=Object(p.useCallback)((function(e,t){if(e){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n}}),[]);return Object(E.jsx)(yr,{open:n,handleClose:t,header:"Add habbit",children:Object(E.jsxs)(dn,{as:"form",onSubmit:i(m),noValidate:!0,children:[Object(E.jsx)(Qn,{name:"title",label:"Title",id:"title",refVal:c(Ce("title")),minLength:6,maxLength:30,error:s.title,"data-testid":"title"}),Object(E.jsx)(Qn,{name:"description",label:"Description",id:"description",refVal:c(),error:s.description,"data-testid":"description",type:"textarea"}),Object(E.jsx)(vn,{control:u,error:s.daysOfWeek}),Object(E.jsx)(zr,{control:u,name:"dateStart",header:"Date start",maxDate:O(x,-7),error:s.dateStart}),Object(E.jsx)(zr,{control:u,name:"dateEnd",header:"Date end",minDate:O(j,7),error:s.dateEnd}),Object(E.jsx)(Qn,{name:"timeStart",label:"Time start",id:"timeStart",refVal:c(Ee("00:00",l("timeEnd"))),error:s.timeStart,type:"time","data-testid":"timeStart"}),Object(E.jsx)(Qn,{name:"timeEnd",label:"Time end",id:"timeEnd",refVal:c(Ee(l("timeStart"),"23:59")),error:s.timeStart,type:"time","data-testid":"timeEnd"}),Object(E.jsx)(Dr,{name:"label",label:"Label",control:u,options:null===r||void 0===r?void 0:r.map((function(e){var t=e._id,n=e.title,r=Object(sn.a)(e,["_id","title"]);return Object(y.a)({key:t,value:n},r)}))}),Object(E.jsx)(Bn,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},hn=n(19),fn=w.d.div(Qe||(Qe=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  width: 100%;\n  max-width: 300px;\n"])),(function(e){return e.theme.margin.sm})),mn=w.d.label(Ze||(Ze=Object(Y.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.s})),jn=w.d.input(et||(et=Object(Y.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var t=e.error,n=e.theme;return t&&"1px solid ".concat(n.colors.error.main)})),pn=w.d.textarea(tt||(tt=Object(Y.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var t=e.error,n=e.theme;return t&&"1px solid ".concat(n.colors.error.main)})),xn=w.d.p(nt||(nt=Object(Y.a)(["\n  margin-top: ",";\n  color: ",";\n  text-align: justify;\n"])),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.colors.error.main})),On=w.d.div(rt||(rt=Object(Y.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n"]))),gn=w.d.div(at||(at=Object(Y.a)(["\n  background-color: ",";\n  border: 1px solid black;\n  height: 50px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ",";\n"])),(function(e){var t=e.theme;return e.active?t.colors.tile.background:t.colors.common.white}),(function(e){return e.theme.font.sizes.m})),vn=function(e){var t=e.control,n=e.error;return Object(E.jsxs)(fn,{children:[Object(E.jsx)(mn,{children:"Week days"}),Object(E.jsx)(un.a,{name:"daysOfWeek",control:t,rules:{validate:function(e){var t="Min. 1 week day is required.";return e&&0!==e.length||t}},render:function(e){var t=e.onChange,n=e.value;return Object(E.jsx)(On,{children:be.map((function(e,r){return Object(E.jsx)(gn,{active:null===n||void 0===n?void 0:n.includes(r),onClick:function(){var e=r;if(n){var a=Object(hn.a)(n);(a=a.filter((function(t){return t!==e}))).length===n.length&&a.push(e),t(a)}else t([e])},"data-testid":e,children:e},e)}))})}}),n&&Object(E.jsx)(xn,{children:null===n||void 0===n?void 0:n.message})]})},wn=n(274),yn=ge.SUCCESS,kn=function(e){var t=e.handleClose,n=e.open,r=e.label,a=Object(un.b)({defaultValues:Object(y.a)({color:"#50E3C2"},r)}),o=a.register,c=a.handleSubmit,i=a.errors,s=a.control,u=Object(p.useRef)(W()),d=V().token,l=U().handleRefLabel,b=function(){var e=Object(re.a)(ne.a.mark((function e(n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_t(d,n,null===r||void 0===r?void 0:r._id);case 3:u.current.showAlert("Succesfuly ".concat((null===r||void 0===r?void 0:r._id)?"edited":"added"," label."),yn),t(),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(yr,{open:n,handleClose:t,header:"Add label",fullHeight:!!(null===r||void 0===r?void 0:r._id),children:Object(E.jsxs)(dn,{as:"form",onSubmit:c(b),noValidate:!0,children:[Object(E.jsx)(Qn,{name:"title",label:"Title",id:"title",refVal:o(Ce("title")),minLength:6,maxLength:30,error:i.title,"data-testid":"title"}),Object(E.jsx)(un.a,{name:"color",control:s,render:function(e){var t=e.onChange,n=e.value;return Object(E.jsx)(wn.a,{color:n,onChangeComplete:function(e){return t(e.hex)}})}}),Object(E.jsx)(Bn,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},Sn=ge.SUCCESS,Cn=function(e){var t=e.handleClose,n=e.open,r=e.labels,a=V().token,o=Object(p.useRef)(W()),c=U(),i=c.handleRefHabbit,s=c.handleRefLabel,u=function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yt(a,t);case 3:o.current.showAlert("Succesfuly deleted label.",Sn),s(),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(yr,{open:n,handleClose:t,header:"Label list",children:Object(E.jsx)(E.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(Ln,{label:e,handleDelete:u},e._id)}))})})},zn=function(e){var t=e.days,n=e.actualMonth,r=e.moveDate,a=e.actualYear,o=e.handleChangeView,c=e.labels,i=Object(p.useState)(!1),s=Object(A.a)(i,2),u=s[0],d=s[1],l=Object(p.useState)(!1),b=Object(A.a)(l,2),h=b[0],f=b[1],m=Object(p.useState)(!1),j=Object(A.a)(m,2),x=j[0],O=j[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ft,{days:t,month:n,moveDate:r,year:a,handleDayChange:o}),Object(E.jsxs)(yt,{children:[Object(E.jsx)(Bn,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"addh",disabled:!navigator.onLine,onClick:function(){return d(!0)},children:"Add habbit"}),Object(E.jsx)(Bn,{size:"s",noMaxWidth:!0,mt:"16px",disabled:!navigator.onLine,mx:"16px","data-testid":"addl",onClick:function(){return f(!0)},children:"Add label"}),Object(E.jsx)(Bn,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"labell",onClick:function(){return O(!0)},children:"Label list"})]}),Object(E.jsx)(bn,{open:u,handleClose:function(){return d(!1)},labels:c}),Object(E.jsx)(kn,{open:h,handleClose:function(){return f(!1)}}),Object(E.jsx)(Cn,{open:x,handleClose:function(){return O(!1)},labels:c})]})},En=w.d.div(ot||(ot=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: ",";\n  padding-top: 0;\n"])),(function(e){return e.theme.margin.s})),Dn=w.d.div(ct||(ct=Object(Y.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),Ln=function(e){var t=e.label,n=e.handleDelete,r=t._id,a=t.color,o=t.title,c=Object(p.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1];return Object(E.jsxs)(En,{children:[Object(E.jsxs)(Dn,{children:[Object(E.jsx)(Bn,{size:"s",mr:"0.75rem",disabled:!navigator.onLine,noMaxWidth:!0,"data-testid":"edit",onClick:function(){return u(!0)},children:"Edit label"}),Object(E.jsx)(Bn,{size:"s",disabled:!navigator.onLine,close:!0,noMaxWidth:!0,"data-testid":"delete".concat(r),onClick:function(){return n(r)},children:"X"})]}),Object(E.jsx)($t,{color:a,children:o}),Object(E.jsx)(kn,{handleClose:function(){return u(!1)},open:s,label:t})]},r)},Tn=function(){var e=Object(p.useState)(new Date),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(p.useState)(new Date),o=Object(A.a)(a,2),c=o[0],i=o[1],s=Object(p.useMemo)((function(){var e=n.getMonth(),t=n.getFullYear(),r=new Date(t,e,1);r.setDate(r.getDate()-7);var a=33-new Date(t,e,32).getDate(),o=new Date(t,e,a),c=new Date(t,e,a),i=new Date(t,e,1);return o.setDate(o.getDate()+6),[r,o,i,c]}),[n]),u=Object(A.a)(s,4),d=u[0],l=u[1],b=u[2],h=u[3],f=V().token,m=U(),j=m.refHabbit,x=m.refLabel,O=Object(p.useMemo)((function(){return"".concat(vt.EVENTS,"?from=").concat(me(b),"&to=").concat(me(h))}),[b,h]),g=ve([b,h,f,j,x],(function(){return Bt(O,f)}),O),v=Object(A.a)(g,3),w=v[0],y=v[1],k=v[2],S=ve([f,x],(function(){return Bt(vt.LABELS,f)}),vt.LABELS),C=Object(A.a)(S,3),z=C[0],D=C[1],L=C[2],T=xe(w,d,l,b,h),F=Object(A.a)(T,1)[0],R=function(e){var t=new Date(e.getTime());t.setDate(e.getDate()-3),t.setHours(0,0,0,0);var n=new Date(e);return n.setDate(e.getDate()+3),n.setHours(0,0,0,0),[t,n]}(c),M=Object(A.a)(R,2),I=M[0],N=M[1];return Object(E.jsxs)(wt,{children:[Object(E.jsx)(zn,{moveDate:function(e){e===Oe.LEFT?(r((function(e){var t=new Date(e.getTime());return new Date(t.setMonth(t.getMonth()-1))})),i((function(e){var t=new Date(e.getTime());return new Date(t.setMonth(t.getMonth()-1))}))):(r((function(e){var t=new Date(e.getTime());return new Date(t.setMonth(t.getMonth()+1))})),i((function(e){var t=new Date(e.getTime());return new Date(t.setMonth(t.getMonth()+1))})))},days:F.filter((function(e){return e.active})),actualMonth:n.getMonth(),actualYear:n.getFullYear(),handleChangeView:function(e){e&&i(e)},labels:z}),Object(E.jsx)(pr,{loading:y||D,error:k||L}),Object(E.jsx)("h2",{children:"".concat(pe(I)," - ").concat(pe(N))}),Object(E.jsx)(cn,{days:F.filter((function(e){var t=e.date;return t&&t>=I&&t<=N})),labels:z,dateClicked:c})]})},An=Object(w.d)(oe)(it||(it=Object(Y.a)(["\n  height: 100vh;\n  width: 100%;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),Fn=function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(vt.LOGIN,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(p.useState)(""),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(p.useState)(!1),o=Object(A.a)(a,2),c=o[0],i=o[1],s=V(),u=Object(un.b)(),d=u.register,l=u.handleSubmit,b=u.errors,h=Object(ye.g)(),f=function(){var e=Object(re.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,Fn(t);case 4:n=e.sent,i(!1),s.login(n.token),h.push(ae.CALENDAR),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),r(e.t0.message),i(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return s.token?Object(E.jsx)(ye.a,{to:ae.CALENDAR}):Object(E.jsx)(Kn,{children:Object(E.jsxs)(An,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(E.jsx)(Qn,{name:"login",label:"Login",id:"login",refVal:d(Ce("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(E.jsx)(Qn,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ce("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(E.jsx)(pr,{error:n,loading:c}),Object(E.jsx)(Bn,{size:"m",mt:"16px",type:"submit","data-testid":"submit",children:"Log in"})]})})},Mn=function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(vt.REGISTER,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),In=ae.DASHBOARD,Vn=ae.CALENDAR,Nn=ae.LOGIN,Hn=ae.REGISTER,Wn=[{link:In,name:"Home page"},{link:Vn,name:"Your tracker"},{link:Nn,name:"Login"},{link:Hn,name:"Register"}],Pn=[{path:In,Component:le,exact:!0},{path:Vn,Component:Tn,isPrivate:!0},{path:Nn,Component:Rn},{path:Hn,Component:function(){var e=Object(p.useState)(""),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(p.useState)(!1),o=Object(A.a)(a,2),c=o[0],i=o[1],s=V(),u=Object(un.b)(),d=u.register,l=u.handleSubmit,b=u.errors,h=Object(ye.g)(),f=function(){var e=Object(re.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.passwordRepeat){e.next=17;break}return i(!0),e.prev=2,e.next=5,Mn(t);case 5:n=e.sent,i(!1),s.login(n.token),h.push(ae.CALENDAR),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r(e.t0.message),i(!1);case 15:e.next=18;break;case 17:r("Passwords must be equal.");case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return s.token?Object(E.jsx)(ye.a,{to:ae.CALENDAR}):Object(E.jsx)(Kn,{children:Object(E.jsxs)(An,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(E.jsx)("h2",{children:"Create new account"}),Object(E.jsx)(Qn,{name:"login",label:"Login",id:"login",refVal:d(Ce("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(E.jsx)(Qn,{name:"email",label:"Email",id:"email",type:"email",refVal:d(Object(y.a)(Object(y.a)({},ke("email")),Se)),error:b.email,"data-testid":"email"}),Object(E.jsx)(Qn,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ce("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(E.jsx)(Qn,{name:"passwordRepeat",label:"Repeat password",id:"passwordRepeat",type:"password",refVal:d(Ce("repeat password")),autoComplete:"on",minLength:6,maxLength:30,error:b.passwordRepeat,"data-testid":"passwordRepeat"}),Object(E.jsx)(pr,{error:n,loading:c}),Object(E.jsx)(Bn,{size:"m",type:"submit","data-testid":"submit",children:"Create account"})]})})}}],Gn=function(){var e=Object(re.a)(ne.a.mark((function e(t){var n,r,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(vt.LOGOUT,{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"POST"});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bn=w.d.button(st||(st=Object(Y.a)(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ",";\n  font-size: ",";\n  min-width: ",";\n  display: inline-block;\n  text-align: center;\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  &:hover {\n    cursor: pointer;\n  }\n  &:disabled {\n    filter: grayscale(1);\n  }\n"])),(function(e){var t=e.theme;return e.close?t.colors.common.black:t.colors.button.text}),(function(e){var t=e.theme;return e.close?t.colors.error.main:t.colors.button.background}),(function(e){return e.theme.colors.border}),(function(e){var t=e.theme,n=e.size;return n?t.margin[n]:t.margin.s}),(function(e){var t=e.theme,n=e.size;return n?t.font.sizes[n]:t.font.sizes.s}),(function(e){return e.noMaxWidth?"none":"150px"}),(function(e){return e.mt||0}),(function(e){return e.mx||0}),(function(e){var t=e.mx;return e.mr||t||0})),Un=w.d.nav(ut||(ut=Object(Y.a)(["\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  background-color: ",";\n  z-index: ",";\n"])),(function(e){var t=e.open;return"scale(".concat(t?"1":"0",")")}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return"opacity ".concat(t.time.medium,"ms")}),(function(e){return e.theme.colors.nav.background}),(function(e){return e.theme.zIndex.medium})),_n=Object(w.d)(Bn)(dt||(dt=Object(Y.a)(["\n  position: absolute;\n  bottom: ",";\n  right: ",";\n"])),(function(e){return e.theme.margin.m}),(function(e){return e.theme.margin.m})),Yn=w.d.div(lt||(lt=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Jn=Object(w.d)(v.b)(bt||(bt=Object(Y.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: ",";\n  margin-bottom: ",";\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.colors.text.nav}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m}),(function(e){var t=e.open;return"scale(".concat(t?"1":"2",") translateY(").concat(t?"0px":"-50px",")")}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return e.open?"".concat(t.time.medium,"ms"):"0"})),Xn=ge.SUCCESS,qn=function(e){var t=e.open,n=e.handleClose,r=V(),a=r.token,o=r.logout,c=Object(p.useRef)(W()),i=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gn(a);case 3:c.current.showAlert("Successfully logged out",Xn),o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(Un,{open:t,children:[Object(E.jsx)(Yn,{children:Wn.map((function(e){var r=e.name,a=e.link;return Object(E.jsx)(Jn,{open:t,to:a,onClick:function(){return n()},children:r},r)}))}),a&&Object(E.jsx)(_n,{size:"s",disabled:!navigator.onLine,mx:"0.75rem","data-testid":"logout",onClick:i,children:"Logout"})]})},$n=function(){var e=Object(p.useState)(!1),t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(J,{open:n,"data-testid":"navButton",onClick:function(){return r((function(e){return!e}))},children:[Object(E.jsx)(q,{open:n}),Object(E.jsx)($,{open:n}),Object(E.jsx)(K,{open:n}),Object(E.jsx)(Q,{open:n}),Object(E.jsx)(Z,{open:n}),Object(E.jsx)(ee,{open:n})]}),Object(E.jsx)(qn,{open:n,handleClose:function(){return r(!1)}})]})},Kn=w.d.main(ht||(ht=Object(Y.a)(["\n  min-height: 100vh;\n  width: 100%;\n"]))),Qn=function(e){var t=e.label,n=e.id,r=e.refVal,a=e.error,o=e.type,c=void 0===o?"text":o,i=Object(sn.a)(e,["label","id","refVal","error","type"]);return Object(E.jsxs)(fn,{children:[Object(E.jsx)(mn,{htmlFor:n,children:t}),"textarea"===c?Object(E.jsx)(pn,Object(y.a)(Object(y.a)({error:!!a,id:n},i),{},{ref:r})):Object(E.jsx)(jn,Object(y.a)(Object(y.a)({error:!!a,id:n,type:c},i),{},{ref:r})),a&&Object(E.jsx)(xn,{children:null===a||void 0===a?void 0:a.message})]})};!function(e){e.ERROR="error",e.LOADING="loading"}(ft||(ft={}));var Zn,er,tr,nr,rr,ar,or,cr,ir,sr,ur,dr,lr,br,hr,fr=w.d.div(mt||(mt=Object(Y.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n"])),(function(e){return e.theme.margin.s})),mr=w.d.div(jt||(jt=Object(Y.a)(["\n  border: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n"])),(function(e){var t=e.type,n=e.theme;return"1px solid ".concat(n.colors[t].border)}),(function(e){var t=e.type,n=e.theme;return"".concat(n.colors[t].main)}),(function(e){var t=e.type,n=e.theme;return"".concat(n.colors[t].text)}),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.font.sizes.s})),jr=function(e){var t=e.children,n=void 0===t?"\u0141adowanie...":t,r=e.type,a=void 0===r?ft.ERROR:r;return Object(E.jsx)(fr,{children:Object(E.jsx)(mr,{"data-testid":"alert",type:a,children:n})})},pr=function(e){var t=e.error,n=e.loading,r=Object(sn.a)(e,["error","loading"]);return t?Object(E.jsx)(jr,Object(y.a)(Object(y.a)({},r),{},{children:t})):n?Object(E.jsx)(jr,Object(y.a)(Object(y.a)({},r),{},{type:ft.LOADING})):null},xr=w.d.div(Zn||(Zn=Object(Y.a)(["\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: ",";\n  background-color: rgba(0, 0, 0, 0.3);\n"])),(function(e){return e.theme.zIndex.max})),Or=w.d.div(er||(er=Object(Y.a)(["\n  position: fixed;\n  width: ",";\n  height: ",";\n  top: ",";\n  left: 50%;\n  transform: translateX(-50%);\n  padding: "," 0;\n  background-color: ",";\n  border: 1px solid ",";\n  z-index: ",";\n  max-width: 350px;\n  overflow: scroll;\n"])),(function(e){var t=e.theme;return e.fullHeight?"100%":"calc(100% - ".concat(t.margin.sm," - ").concat(t.margin.sm,")")}),(function(e){var t=e.theme;return"calc(90vh - ".concat(t.margin.sm," -  ").concat(t.margin.sm,")")}),(function(e){var t=e.theme;return e.fullHeight?"0":t.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.colors.modalBackground}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.zIndex.max})),gr=w.d.h2(tr||(tr=Object(Y.a)(["\n  width: 100%;\n  text-align: center;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.ml})),vr=w.d.button(nr||(nr=Object(Y.a)(["\n  width: 50px;\n  height: 50px;\n  position: relative;\n  display: block;\n  margin-left: auto;\n  margin-right: 0;\n  border: none;\n  background-color: transparent;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),wr=w.d.div(rr||(rr=Object(Y.a)(["\n  height: 100%;\n  width: 2px;\n  position: absolute;\n  top: 0%;\n  left: 50%;\n  background-color: ",";\n  transform: ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){var t=e.rotate;return"rotate(".concat(t,"deg)")})),yr=function(e){var t=e.open,n=e.handleClose,r=e.header,a=e.children,o=e.fullHeight;return t?Object(E.jsxs)(E.Fragment,{children:[!o&&Object(E.jsx)(xr,{onClick:n}),Object(E.jsxs)(Or,{fullHeight:o,children:[Object(E.jsxs)(vr,{type:"button","data-testid":"".concat(r,"-close"),onClick:n,children:[Object(E.jsx)(wr,{rotate:45}),Object(E.jsx)(wr,{rotate:-45})]}),Object(E.jsx)(gr,{"data-testid":"".concat(r,"-header"),children:r}),a]})]}):null},kr=n(271),Sr=n.n(kr),Cr=(n(685),w.d.div(ar||(ar=Object(Y.a)(["\n  width: 100%;\n  max-width: 300px;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.sm}))),zr=(n(686),function(e){var t=e.control,n=e.name,r=e.header,a=e.maxDate,o=e.minDate,c=e.error;return Object(E.jsxs)(Cr,{children:[Object(E.jsx)(mn,{htmlFor:n,children:r}),Object(E.jsx)(un.a,{name:n,control:t,rules:{required:"Date is required."},render:function(e){var t=e.onChange,r=e.value;return Object(E.jsx)(Sr.a,{id:n,"data-testid":n,maxDate:a,minDate:o,selected:r,onChange:t})}}),c&&Object(E.jsx)(xn,{children:null===c||void 0===c?void 0:c.message})]})}),Er=w.d.select(or||(or=Object(Y.a)(["\n  width: 100%;\n  max-width: 300px;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.sm})),Dr=function(e){var t=e.options,n=e.control,r=e.name,a=e.label;return Object(E.jsxs)(fn,{children:[Object(E.jsx)(mn,{children:a}),Object(E.jsx)(un.a,{name:r,control:n,render:function(e){var n=e.onChange,a=e.value;return Object(E.jsxs)(Er,{"data-testid":r,value:a,onChange:n,children:[Object(E.jsx)("option",{value:"",children:"----Brak labelu----"},"1"),t.map((function(e){var t=e.key,n=e.value;return Object(E.jsx)("option",{value:t,children:n},t)}))]})}})]})},Lr=ge.ERROR,Tr=ge.SUCCESS,Ar=Object(w.e)(cr||(cr=Object(Y.a)(["\n  0% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n\n  12% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  88% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n"]))),Fr=Object(w.e)(ir||(ir=Object(Y.a)(["\n  0% {\n    transform: translateX(-50%) scale(0);\n  }\n  1% {\n    transform: translateX(-50%) scale(1);\n  }\n  99% {\n    transform: translateX(-50%) scale(1);\n  }\n  100% {\n    transform: translateX(-50%) scale(0);\n  }\n"]))),Rr=Object(w.c)(sr||(sr=Object(Y.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){return e.theme.colors.error.text}),(function(e){return e.theme.colors.error.border})),Mr=Object(w.c)(ur||(ur=Object(Y.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.success.main}),(function(e){return e.theme.colors.success.text}),(function(e){return e.theme.colors.success.border})),Ir=w.d.div(dr||(dr=Object(Y.a)(["\n  transition: 0.15s linear;\n  opacity: 1;\n  animation: "," 6s forwards;\n  width: 100%;\n  max-width: 300px;\n  padding: ",";\n  text-align: justify;\n  ",";\n"])),Ar,(function(e){return e.theme.margin.s}),(function(e){switch(e.type){case Lr:return Rr;case Tr:return Mr;default:return Rr}})),Vr=w.d.div(lr||(lr=Object(Y.a)(["\n  position: fixed;\n  top: 1rem;\n  left: 50%;\n  z-index: 1100;\n  padding: 0 0.5rem;\n  transform: translateX(-50%);\n  animation: "," 6s forwards;\n"])),Fr),Nr=function(e){var t=e.message,n=e.variant,r=e.handleClose;return Object(E.jsx)(Vr,{children:Object(E.jsx)(Ir,{type:n,onClick:function(){return r(!1)},children:t})})},Hr=function(){var e=W();return e.open?Object(E.jsx)(Nr,{message:e.message,handleClose:e.changeVisibility,variant:e.variant}):null},Wr=w.d.div(br||(br=Object(Y.a)(["\n  position: fixed;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 9999;\n"]))),Pr=function(){var e=Object(p.useState)(!0),t=Object(A.a)(e,2),n=t[0],r=t[1];return!navigator.onLine&&n?Object(E.jsx)(Wr,{onClick:function(){return r(!1)},children:Object(E.jsx)(jr,{type:ft.LOADING,children:"No internet connnection. Data is loaded from cache."})}):null},Gr=Object(w.b)(hr||(hr=Object(Y.a)(["\n    body{\n        color: ",";\n        background-color: ",";\n        font-family: 'Roboto', sans-serif;\n        overflow-x: hidden;\n    }\n    * {\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.body})),Br=function(){return Object(E.jsx)(T,{children:Object(E.jsx)(_,{children:Object(E.jsx)(P,{children:Object(E.jsxs)(N,{children:[Object(E.jsx)(Gr,{}),Object(E.jsxs)(v.a,{basename:"/habbit-tracker",children:[Object(E.jsx)(Pr,{}),Object(E.jsx)(Hr,{}),Object(E.jsx)($n,{}),Object(E.jsx)(_r,{})]})]})})})})},Ur=function(e){var t=Object.assign({},e);return V().token?Object(E.jsx)(ye.b,Object(y.a)({},t)):Object(E.jsx)(ye.a,{to:ae.LOGIN})},_r=function(){return Object(E.jsx)(ye.d,{children:Pn.map((function(e){var t=e.path,n=e.Component;return e.isPrivate?Object(E.jsx)(Ur,{path:t,children:Object(E.jsx)(n,{})},t):Object(E.jsx)(ye.b,{path:t,exact:!0,children:Object(E.jsx)(n,{})},t)}))})},Yr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Xr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,773)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};g.a.render(Object(E.jsx)(x.a.StrictMode,{children:Object(E.jsx)(Br,{})}),document.getElementById("root")),Xr(),function(e){if("serviceWorker"in navigator){if(new URL("/habbit-tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/habbit-tracker","/service-worker.js");Yr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Jr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Jr(t,e)}))}}()}},[[770,1,2]]]);
//# sourceMappingURL=main.1ea9dd84.chunk.js.map