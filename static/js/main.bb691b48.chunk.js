(this["webpackJsonphabbit-tracker"]=this["webpackJsonphabbit-tracker"]||[]).push([[0],{159:function(n,e,t){},460:function(n,e,t){"use strict";t.r(e);var r,c,o,a,i,s,u,d,m,l,b,h,f,j,p=t(0),x=t.n(p),O=t(30),g=t.n(O),v=(t(159),t(16)),w=t(3),y=t(9),k={base:"10px",family:"Arial",light:300,regular:400,medium:500,bold:700,sizes:{xs:"0.75rem",s:"1rem",sm:"1.25rem",m:"1.5rem",ml:"2rem",l:"3rem"}},z={colors:{common:{black:"#000000",white:"#FFFFFF"}},font:k,margin:{xs:"0.5rem",s:"0.75rem",sm:"1rem",m:"1.25rem",ml:"1.5rem",l:"1.75rem"},time:{short:100,medium:300,long:500},zIndex:{max:1e3,medium:500,low:100},chooseFS:function(n){var e=k.sizes,t=Object.keys(e).find((function(e){return e===n}));return void 0!==t?e[t]:e.xs},sizes:{nav:"50px",dot:"20px"},media:{phone:{s:"320px"},tablet:{s:"768px",l:"1024px"},desktop:{s:"1366px",l:"1920px"}}},F="#AFE9FF",D=Object(y.a)(Object(y.a)({},z),{},{gridTile:{size:50},colors:Object(y.a)(Object(y.a)({},z.colors),{},{body:"#F3FFF2",calendar:{navigation:"#EDEFFF"},text:{primary:z.colors.common.black,secondary:"#808080",nav:"#A5A5A5"},button:{background:"#FFC136",text:"#fff"},nav:{topLeft:"#B7FF96",topRight:"#89FFED",bottomLeft:"#FDF194",bottomRight:"#FFADFC",background:"#A4FF9D",button:"#FFED67"},tile:{background:"#FFFCAF",backgroundActive:F,border:"#77CBFF"},modalBackground:F,error:{main:"#FF9191",border:"#730000",text:"#730000"},loading:{main:"#a6fff9",border:"#1b968e",text:"#1b968e"},border:"#707070"})}),E=t(1),S=Object(p.createContext)(D),L=S.Provider,C=function(n){var e=n.children;return Object(E.jsx)(L,{value:D,children:Object(E.jsx)(w.a,{theme:D,children:e})})},T=t(5),R=new(t(155).a),I=Object(p.createContext)({token:void 0,login:function(){},logout:function(){}}),A=I.Provider,G=function(){var n=new Date;return n.setDate(n.getDate()+14),n},N=function(){return Object(p.useContext)(I)},M=function(n){var e=n.children,t=Object(p.useState)(R.get("token")),r=Object(T.a)(t,2),c=r[0],o=r[1],a={token:c,login:function(n){R.set("token",n,{path:"/",expires:G()}),o(n)},logout:function(){R.remove("token",{path:"/"}),o(void 0)}};return Object(E.jsx)(A,{value:a,children:e})},V=t(4),H=w.c.button(r||(r=Object(V.a)(["\n  position: fixed;\n  height: ",";\n  width: ",";\n  top: ",";\n  background-color: transparent;\n  border: none;\n  right: ",";\n  padding: 0;\n  ","\n  transition: ",";\n  z-index: ",";\n  &:focus {\n    outline: none;\n  }\n"])),(function(n){return n.theme.sizes.nav}),(function(n){return n.theme.sizes.nav}),(function(n){return n.theme.margin.sm}),(function(n){return n.theme.margin.sm}),(function(n){return n.open&&"transform: rotate(-45deg);"}),(function(n){var e=n.theme;return"".concat(e.time.medium,"ms")}),(function(n){return n.theme.zIndex.max})),P=w.c.div(c||(c=Object(V.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  position: absolute;\n  opacity: ",";\n  transition: ",";\n"])),(function(n){return n.theme.sizes.dot}),(function(n){return n.theme.sizes.dot}),(function(n){return n.open?"0":"1"}),(function(n){var e=n.theme;return"".concat(e.time.medium,"ms")})),W=Object(w.c)(P)(o||(o=Object(V.a)(["\n  background-color: ",";\n  top: 0;\n  left: 0;\n"])),(function(n){return n.theme.colors.nav.topLeft})),B=Object(w.c)(P)(a||(a=Object(V.a)(["\n  background-color: ",";\n  top: 0;\n  right: 0;\n"])),(function(n){return n.theme.colors.nav.topRight})),J=Object(w.c)(P)(i||(i=Object(V.a)(["\n  background-color: ",";\n  bottom: 0;\n  left: 0;\n"])),(function(n){return n.theme.colors.nav.bottomLeft})),Y=Object(w.c)(P)(s||(s=Object(V.a)(["\n  background-color: ",";\n  bottom: 0;\n  right: 0;\n"])),(function(n){return n.theme.colors.nav.bottomRight})),_=w.c.div(u||(u=Object(V.a)(["\n  position: absolute;\n  height: 3px;\n  width: ",";\n  background-color: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(n){return n.theme.sizes.nav}),(function(n){return n.theme.colors.error.main}),(function(n){return n.open?"1":"0"}),(function(n){var e=n.theme;return"".concat(e.time.medium,"ms")})),q=Object(w.c)(_)(d||(d=Object(V.a)(["\n  transform: rotate(90deg);\n  top: 50%;\n"]))),$={DASHBOARD:"/",CALENDAR:"/calendar",LOGIN:"/login",REGISTER:"/register"},U=w.c.section(m||(m=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),X=Object(w.c)(U)(l||(l=Object(V.a)(["\n  height: 100vh;\n  width: 100%;\n  padding: 0 1rem;\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-between;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n"])),(function(n){return n.theme.media.tablet.s})),K=Object(w.c)(U)(b||(b=Object(V.a)(["\n  @media (min-width: ",") {\n    margin-right: ",";\n  }\n"])),(function(n){return n.theme.media.tablet.s}),(function(n){return n.theme.margin.l})),Q=w.c.h2(h||(h=Object(V.a)(["\n  font-size: ",";\n  margin: "," 0;\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.font.sizes.l}),(function(n){return n.theme.margin.sm}),(function(n){return n.theme.media.phone.s}),(function(n){return n.theme.font.sizes.ml})),Z=w.c.p(f||(f=Object(V.a)(["\n  color: ",";\n  text-align: justify;\n  font-size: ",";\n  margin-bottom: ",";\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.colors.text.secondary}),(function(n){return n.theme.font.sizes.m}),(function(n){return n.theme.margin.l}),(function(n){return n.theme.media.phone.s}),(function(n){return n.theme.font.sizes.sm})),nn=w.c.p(j||(j=Object(V.a)(["\n  font-size: ",";\n  margin: ",";\n"])),(function(n){return n.theme.font.sizes.sm}),(function(n){return n.theme.margin.s})),en=function(){return Object(E.jsx)(Qe,{children:Object(E.jsxs)(X,{children:[Object(E.jsxs)(K,{children:[Object(E.jsx)(Q,{children:"Habbit tracker"}),Object(E.jsx)(Z,{children:"Track your progress in very simple and personalized app"})]}),Object(E.jsxs)(U,{children:[Object(E.jsx)($e,{as:v.b,to:$.REGISTER,size:"m",children:"Create account for free"}),Object(E.jsx)(nn,{children:"or"}),Object(E.jsx)($e,{as:v.b,to:$.LOGIN,size:"m",children:"Log in"})]})]})})},tn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cn=["January","February","March","April","May","Juny","Juni","August","September","October","November","December"],on=function(n){var e=new Date(n),t=new Date(e.getFullYear(),0,0),r=e-t+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3;return Math.floor(r/864e5)},an=function(n){return n.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},sn=function(n,e,t){var r=Object(p.useState)([]),c=Object(T.a)(r,2),o=c[0],a=c[1];return Object(p.useEffect)((function(){var r=new Date(t,e).getDay(),c=32-new Date(t,e,32).getDate();0===r&&(r=7),r-=1;var o=[];o=n.map((function(n){return Object(y.a)(Object(y.a)({},n),{},{numericStart:on(n.dateStart),numericEnd:on(n.dateEnd)})}));for(var i=[],s=[],u=on("".concat(t,"-").concat(e+1,"-1")),d=0;d<6;d++)for(var m=function(n){if(0===d&&n<r)s.push({id:13*d+17*n+d*n,day:-1,events:[]});else{i=i.filter((function(e){return e.numericEnd>u&&e.daysOfWeek.includes(n)}));var e=7*d+n-r+1;if(e>c)return"break";o=o.filter((function(e){return e.numericStart<=u&&u<=e.numericEnd&&!i.includes(e)&&e.daysOfWeek.includes(n)&&i.push(e),u<=e.numericEnd})),s.push({id:13*d+17*n,day:e,events:i}),u+=1}},l=0;l<7;l++){if("break"===m(l))break}a(s)}),[e,t,n]),[o]},un=t(6),dn=t.n(un),mn=t(10);var ln,bn,hn,fn=function(n,e){var t=Object(p.useState)(""),r=Object(T.a)(t,2),c=r[0],o=r[1],a=Object(p.useState)(!1),i=Object(T.a)(a,2),s=i[0],u=i[1],d=Object(p.useState)([]),m=Object(T.a)(d,2),l=m[0],b=m[1];return Object(p.useEffect)((function(){(function(){var n=Object(mn.a)(dn.a.mark((function n(){var t;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),n.prev=1,n.next=4,e();case 4:t=n.sent,b(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),o(n.t0.message);case 11:u(!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}})()()}),n),[l,s,c]},jn=function(){var n=Object(p.useState)([0,0]),e=Object(T.a)(n,2),t=e[0],r=e[1];return Object(p.useLayoutEffect)((function(){function n(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}),[]),t},pn=(t(151),t(152),t(59),t(17),t(11)),xn=function(n){return{required:"Field ".concat(n," is required.")}},On={pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Incorrect characters."}},gn=function(n){return Object(y.a)(Object(y.a)({},xn(n)),{},{minLength:{value:6,message:"Field ".concat(n," must have at least 6 characters.")},maxLength:{value:30,message:"Field ".concat(n," must have maximum 30 characters.")}})};!function(n){n[n.LEFT=-1]="LEFT",n[n.RIGHT=1]="RIGHT"}(ln||(ln={}));var vn,wn,yn,kn,zn,Fn,Dn,En,Sn,Ln,Cn,Tn,Rn,In,An,Gn,Nn,Mn,Vn,Hn,Pn,Wn,Bn,Jn,Yn,_n,qn,$n,Un,Xn,Kn,Qn=w.c.div(bn||(bn=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  @media (min-width: ",") {\n    justify-content: flex-start;\n  }\n"])),(function(n){return n.theme.media.tablet.s})),Zn=w.c.div(hn||(hn=Object(V.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),ne=w.c.button(vn||(vn=Object(V.a)(["\n  border: none;\n  width: ",";\n  height: ",";\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    height: ",";\n  }\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(n){var e=n.theme;return"".concat(e.gridTile.size,"px")}),(function(n){var e=n.theme;return"".concat(e.gridTile.size,"px")}),(function(n){return n.theme.colors.common.white}),(function(n){return n.theme.media.tablet.s}),(function(n){var e=n.theme;return"".concat(2*e.gridTile.size,"px")}),(function(n){var e=n.theme;return"".concat(2*e.gridTile.size,"px")})),ee=w.c.div(wn||(wn=Object(V.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background-color: ",";\n  top: ",";\n  left: ",";\n  ","\n"])),(function(n){var e=n.size,t=n.alone;return"".concat(t?e/1.3:e,"px")}),(function(n){var e=n.size,t=n.alone;return"".concat(t?e/1.3:e,"px")}),(function(n){return n.color}),(function(n){var e=n.position;return"".concat(e,"px")}),(function(n){var e=n.position;return"".concat(e,"px")}),(function(n){return n.alone&&"transform: translate(-50%,-50%);top: 50%;left:50%"})),te=w.c.p(yn||(yn=Object(V.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: ",";\n"])),(function(n){return n.theme.zIndex.low})),re=function(n,e){var t=e*(1.3+.1*(n.length-2))/n.length,r=(e-t)/(n.length-1),c=-r;return n.map((function(e){return c+=r,Object(E.jsx)(ee,{position:c,alone:1===n.length,color:e.color,size:t},e.id)}))},ce=function(n){var e=n.colors,t=n.day,r=n.handleDayChange,c=Object(p.useContext)(S).gridTile.size,o=jn(),a=Object(T.a)(o,1)[0];return Object(E.jsx)(ne,{onClick:r,children:-1===t?null:Object(E.jsxs)(E.Fragment,{children:[e&&re(e,a>768?2*c:c),Object(E.jsx)(te,{"data-testid":"day",children:t})]})})},oe=w.c.div(kn||(kn=Object(V.a)(["\n  @media (min-width: ",") {\n    margin-top: 5rem;\n  }\n"])),(function(n){return n.theme.media.tablet.s})),ae=w.c.div(zn||(zn=Object(V.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n  grid-template-rows: auto;\n  max-width: 100%;\n  border: 1px solid ",";\n  border-top: none;\n  background-color: #fff;\n"])),(function(n){return n.theme.colors.border})),ie=Object(w.c)(ae)(Fn||(Fn=Object(V.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  border-bottom: none;\n"])),(function(n){return n.theme.colors.calendar.navigation}),(function(n){return n.theme.colors.border})),se=w.c.div(Dn||(Dn=Object(V.a)(["\n  width: ",";\n  padding: ",";\n"])),(function(n){var e=n.theme;return"".concat(e.gridTile.size,"px")}),(function(n){return n.theme.margin.s})),ue=function(n){var e=n.events,t=n.month,r=n.year,c=n.moveDate,o=n.handleDayChange,a=sn(e,t,r),i=Object(T.a)(a,1)[0];return Object(E.jsxs)(oe,{children:[Object(E.jsx)(fe,{navId:"main",header:"".concat(cn[t]," ").concat(r),moveDate:c}),Object(E.jsx)(ie,{children:tn.map((function(n){return Object(E.jsx)(se,{children:n},n)}))}),Object(E.jsx)(ae,{children:i.map((function(n){var e=n.id,c=n.day,a=n.events;return Object(E.jsx)(ce,{handleDayChange:function(){return o("".concat(r,"-").concat(t,"-").concat(c))},colors:a.map((function(n){var t=n.label,r=n._id;return t?{color:null===t||void 0===t?void 0:t.color,id:"".concat(r).concat(e)}:{}})),day:c},e)}))})]})},de=t(99),me=t(100),le=w.c.div(En||(En=Object(V.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: ",";\n"])),(function(n){return n.theme.margin.s})),be=w.c.button(Sn||(Sn=Object(V.a)(["\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n"])),(function(n){return n.theme.font.sizes.m})),he=w.c.h3(Ln||(Ln=Object(V.a)(["\n  width: 200px;\n  text-align: center;\n  line-height: 100%;\n  margin: 0;\n  @media (min-width: ",") {\n    width: 400px;\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.media.tablet.s}),(function(n){return n.theme.font.sizes.ml})),fe=function(n){var e=n.header,t=n.moveDate,r=n.navId,c=n.backToCalendar;return Object(E.jsxs)(le,{children:[Object(E.jsx)(be,{"data-testid":"moveLeft-".concat(r),onClick:function(){return t(ln.LEFT)},children:Object(E.jsx)(de.a,{icon:me.a})}),Object(E.jsx)(he,{onClick:c,"data-testid":"dateCalendar-".concat(r),children:e}),Object(E.jsx)(be,{"data-testid":"moveRight-".concat(r),onClick:function(){return t(ln.RIGHT)},children:Object(E.jsx)(de.a,{icon:me.b})})]})},je="".concat("https://habbit-tracker-back.herokuapp.com","/"),pe="".concat(je,"users/"),xe="".concat(je,"events/"),Oe="".concat(je,"labels/"),ge={LOGIN:"".concat(pe,"login/"),REGISTER:"".concat(pe,"register/"),LOGOUT:"".concat(pe,"logout/"),EVENTS:xe,LABELS:Oe},ve=function(){var n=Object(mn.a)(dn.a.mark((function n(e,t,r){var c,o,a;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(ge.EVENTS,"?from=").concat(t,"&to=").concat(r),{headers:{"Content-Type":"application/json",Authorization:"".concat(e)},method:"GET"});case 2:if(200!==(c=n.sent).status){n.next=5;break}return n.abrupt("return",c.json());case 5:return n.next=7,c.json();case 7:throw o=n.sent,a=o.message,new Error(a);case 10:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),we=function(){var n=Object(mn.a)(dn.a.mark((function n(e,t){var r,c,o;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(ge.EVENTS).concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat(e)},method:"GET"});case 2:if(200!==(r=n.sent).status){n.next=5;break}return n.abrupt("return",r.json());case 5:return n.next=7,r.json();case 7:throw c=n.sent,o=c.message,new Error(o);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),ye=w.c.div(Cn||(Cn=Object(V.a)(["\n  background-color: ",";\n  width: 275px;\n  height: 500px;\n"])),(function(n){return n.theme.colors.tile.background})),ke=w.c.h3(Tn||(Tn=Object(V.a)(["\n  font-size: ",";\n  margin: "," 0;\n  text-align: center;\n"])),(function(n){return n.theme.font.sizes.m}),(function(n){return n.theme.margin.m})),ze=function(n){var e=n.day,t=n.token,r=e.split("-"),c=Object(T.a)(r,3),o=c[0],a=c[1],i=c[2],s=new Date(parseInt(o,10),parseInt(a,10),parseInt(i,10)),u="".concat(o,"-").concat(2!==a.length?"0".concat(parseInt(a,10)+1):a,"-").concat(2!==i.length?"0".concat(i):i),d=fn([u,t],(function(){return we(t,u)})),m=Object(T.a)(d,1)[0],l=s.getDay()-1;return-1===l&&(l=6),Object(E.jsxs)(ye,{children:[Object(E.jsx)(ke,{children:"".concat(rn[l])}),m.map((function(n){return Object(E.jsx)(Le,{habbit:n},n._id)}))]})},Fe=w.c.div(Rn||(Rn=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 ",";\n  border-left: 1px solid ",";\n  margin: 0 ",";\n  margin-top: ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.margin.s}),(function(n){return n.theme.colors.tile.border}),(function(n){return n.theme.margin.s}),(function(n){return n.theme.margin.xs})),De=w.c.h2(In||(In=Object(V.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n  margin-top: 0;\n"])),(function(n){return n.theme.font.sizes.ml}),(function(n){return n.theme.margin.xs})),Ee=w.c.p(An||(An=Object(V.a)(["\n  color: gray;\n  margin-bottom: ",";\n"])),(function(n){return n.theme.margin.xs})),Se=w.c.p(Gn||(Gn=Object(V.a)(["\n  text-align: justify;\n"]))),Le=function(n){var e=n.habbit,t=e.title,r=e.timeEnd,c=e.timeStart,o=e.description;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($e,{size:"s",my:"0.75rem",noMaxWidth:!0,"data-testid":"edit",children:"Edit habbit"}),Object(E.jsx)($e,{size:"s",close:!0,noMaxWidth:!0,"data-testid":"delete",children:"X"}),Object(E.jsxs)(Fe,{children:[Object(E.jsx)(De,{children:t}),Object(E.jsx)(Ee,{children:"".concat(c,"-").concat(r)}),Object(E.jsx)(Se,{children:o})]})]})},Ce=function(){var n=Object(p.useState)(new Date),e=Object(T.a)(n,2),t=e[0],r=(e[1],Object(p.useState)(t.getMonth())),c=Object(T.a)(r,2),o=c[0],a=c[1],i=Object(p.useState)(t.getFullYear()),s=Object(T.a)(i,2),u=s[0],d=s[1],m=an(new Date(u,o,2)),l=33-new Date(u,o,32).getDate(),b=an(new Date(u,o,l)),h=N().token,f=jn(),j=Object(T.a)(f,1)[0],x=Object(p.useState)(!1),O=Object(T.a)(x,2),g=O[0],v=O[1],w=Object(p.useState)("".concat(u,"-").concat(o,"-").concat(t.getDate())),y=Object(T.a)(w,2),k=y[0],z=y[1],F=k.split("-"),D=Object(T.a)(F,3),S=D[0],L=D[1],C=D[2],R=fn([m,b,h],(function(){return ve(h,m,b)})),I=Object(T.a)(R,3),A=I[0],G=I[1],M=I[2],V=function(n){n===ln.LEFT?0===o?(a(11),d((function(n){return n-1}))):a((function(e){return e+n})):11===o?(a(0),d((function(n){return n+1}))):a((function(e){return e+n}))},H=function(n){var e=k.split("-"),t=Object(T.a)(e,3),r=t[0],c=t[1],o=t[2],a=parseInt(r,10),i=parseInt(c,10),s=parseInt(o,10),u=new Date(a,i+1,0).getDate();if(n===ln.RIGHT)z(s===u?11===i?"".concat(a+1,"-0-1"):"".concat(a,"-").concat(i+1,"-1"):"".concat(a,"-").concat(i,"-").concat(s+1));else if(1===s)if(0===i)z("".concat(a-1,"-11-31"));else{var d=new Date(a,i,0).getDate();z("".concat(a,"-").concat(i-1,"-").concat(d))}else z("".concat(a,"-").concat(i,"-").concat(s-1))},P=function(n){v((function(n){return!n})),n&&z(n)},W=Object(p.useMemo)((function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ue,{events:A,month:o,moveDate:V,year:u,handleDayChange:P}),Object(E.jsx)(ut,{loading:G,error:M}),Object(E.jsxs)(Zn,{children:[Object(E.jsx)($e,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"addh",children:"Add habbit"}),Object(E.jsx)($e,{size:"s",noMaxWidth:!0,mt:"16px",my:"16px","data-testid":"addl",children:"Add label"}),Object(E.jsx)($e,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"labell",children:"Label list"})]})]})}),[A,o,u,G,M]);return Object(E.jsx)(Qn,{children:j>=768?Object(E.jsxs)(E.Fragment,{children:[W,Object(E.jsx)(fe,{navId:"desktopDay",header:"".concat(C," ").concat(cn[parseInt(L,10)]," ").concat(S),moveDate:H}),Object(E.jsx)(ze,{day:k,token:h})]}):g?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fe,{navId:"mobileDay",header:"".concat(C," ").concat(cn[parseInt(L,10)]," ").concat(S),moveDate:H,backToCalendar:function(){return v(!1)}}),Object(E.jsx)(ze,{day:k,token:h})]}):W})},Te=t(71),Re=Object(w.c)(U)(Nn||(Nn=Object(V.a)(["\n  height: 100vh;\n  width: 100%;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),Ie=function(){var n=Object(mn.a)(dn.a.mark((function n(e){var t,r,c;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(ge.LOGIN,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});case 2:if(200!==(t=n.sent).status){n.next=5;break}return n.abrupt("return",t.json());case 5:return n.next=7,t.json();case 7:throw r=n.sent,c=r.message,new Error(c||"Something went wrong");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ae=function(){var n=Object(p.useState)(""),e=Object(T.a)(n,2),t=e[0],r=e[1],c=Object(p.useState)(!1),o=Object(T.a)(c,2),a=o[0],i=o[1],s=N(),u=Object(Te.a)(),d=u.register,m=u.handleSubmit,l=u.errors,b=Object(pn.g)(),h=function(){var n=Object(mn.a)(dn.a.mark((function n(e){var t;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i(!0),n.prev=1,n.next=4,Ie(e);case 4:t=n.sent,i(!1),s.login(t.token),b.push($.CALENDAR),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),r(n.t0.message),i(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return s.token?Object(E.jsx)(pn.a,{to:$.CALENDAR}):Object(E.jsx)(Qe,{children:Object(E.jsxs)(Re,{as:"form",onSubmit:m(h),noValidate:!0,children:[Object(E.jsx)(ct,{name:"login",label:"Login",id:"login",refVal:d(gn("login")),minLength:6,maxLength:30,error:l.login,"data-testid":"login"}),Object(E.jsx)(ct,{name:"password",label:"Password",id:"password",type:"password",refVal:d(gn("password")),autoComplete:"on",minLength:6,maxLength:30,error:l.password,"data-testid":"password"}),Object(E.jsx)(ut,{error:t,loading:a}),Object(E.jsx)($e,{size:"m",mt:"16px",type:"submit","data-testid":"submit",children:"Log in"})]})})},Ge=function(){var n=Object(mn.a)(dn.a.mark((function n(e){var t,r,c;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(ge.REGISTER,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});case 2:if(200!==(t=n.sent).status){n.next=5;break}return n.abrupt("return",t.json());case 5:return n.next=7,t.json();case 7:throw r=n.sent,c=r.message,new Error(c||"Something went wrong");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ne=$.DASHBOARD,Me=$.CALENDAR,Ve=$.LOGIN,He=$.REGISTER,Pe=[{link:Ne,name:"Home page"},{link:Me,name:"Your tracker"},{link:Ve,name:"Login"},{link:He,name:"Register"}],We=[{path:Ne,Component:en,exact:!0},{path:Me,Component:Ce,isPrivate:!0},{path:Ve,Component:Ae},{path:He,Component:function(){var n=Object(p.useState)(""),e=Object(T.a)(n,2),t=e[0],r=e[1],c=Object(p.useState)(!1),o=Object(T.a)(c,2),a=o[0],i=o[1],s=N(),u=Object(Te.a)(),d=u.register,m=u.handleSubmit,l=u.errors,b=Object(pn.g)(),h=function(){var n=Object(mn.a)(dn.a.mark((function n(e){var t;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.password!==e.passwordRepeat){n.next=17;break}return i(!0),n.prev=2,n.next=5,Ge(e);case 5:t=n.sent,i(!1),s.login(t.token),b.push($.CALENDAR),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),r(n.t0.message),i(!1);case 15:n.next=18;break;case 17:r("Passwords must be equal.");case 18:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}();return s.token?Object(E.jsx)(pn.a,{to:$.CALENDAR}):Object(E.jsx)(Qe,{children:Object(E.jsxs)(Re,{as:"form",onSubmit:m(h),noValidate:!0,children:[Object(E.jsx)("h2",{children:"Create new account"}),Object(E.jsx)(ct,{name:"login",label:"Login",id:"login",refVal:d(gn("login")),minLength:6,maxLength:30,error:l.login,"data-testid":"login"}),Object(E.jsx)(ct,{name:"email",label:"Email",id:"email",type:"email",refVal:d(Object(y.a)(Object(y.a)({},xn("email")),On)),error:l.email,"data-testid":"email"}),Object(E.jsx)(ct,{name:"password",label:"Password",id:"password",type:"password",refVal:d(gn("password")),autoComplete:"on",minLength:6,maxLength:30,error:l.password,"data-testid":"password"}),Object(E.jsx)(ct,{name:"passwordRepeat",label:"Repeat password",id:"passwordRepeat",type:"password",refVal:d(gn("repeat password")),autoComplete:"on",minLength:6,maxLength:30,error:l.passwordRepeat,"data-testid":"passwordRepeat"}),Object(E.jsx)(ut,{error:t,loading:a}),Object(E.jsx)($e,{size:"m",type:"submit","data-testid":"submit",children:"Create account"})]})})}}],Be=w.c.nav(Mn||(Mn=Object(V.a)(["\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  background-color: ",";\n  z-index: ",";\n"])),(function(n){var e=n.open;return"scale(".concat(e?"1":"0",")")}),(function(n){return n.open?"1":"0"}),(function(n){var e=n.theme;return"opacity ".concat(e.time.medium,"ms")}),(function(n){return n.theme.colors.nav.background}),(function(n){return n.theme.zIndex.medium})),Je=w.c.div(Vn||(Vn=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Ye=Object(w.c)(v.b)(Hn||(Hn=Object(V.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: ",";\n  margin-bottom: ",";\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(n){return n.theme.colors.text.nav}),(function(n){return n.theme.font.sizes.m}),(function(n){return n.theme.margin.m}),(function(n){var e=n.open;return"scale(".concat(e?"1":"2",") translateY(").concat(e?"0px":"-50px",")")}),(function(n){return n.open?"1":"0"}),(function(n){var e=n.theme;return n.open?"".concat(e.time.medium,"ms"):"0"})),_e=function(n){var e=n.open,t=n.handleClose;return Object(E.jsx)(Be,{open:e,children:Object(E.jsx)(Je,{children:Pe.map((function(n){var r=n.name,c=n.link;return Object(E.jsx)(Ye,{open:e,to:c,onClick:function(){return t()},children:r},r)}))})})},qe=function(){var n=Object(p.useState)(!1),e=Object(T.a)(n,2),t=e[0],r=e[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(H,{open:t,"data-testid":"navButton",onClick:function(){return r((function(n){return!n}))},children:[Object(E.jsx)(W,{open:t}),Object(E.jsx)(B,{open:t}),Object(E.jsx)(J,{open:t}),Object(E.jsx)(Y,{open:t}),Object(E.jsx)(_,{open:t}),Object(E.jsx)(q,{open:t})]}),Object(E.jsx)(_e,{open:t,handleClose:function(){return r(!1)}})]})},$e=w.c.button(Pn||(Pn=Object(V.a)(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ",";\n  font-size: ",";\n  min-width: ",";\n  display: inline-block;\n  text-align: center;\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(n){var e=n.theme;return n.close?e.colors.common.black:e.colors.button.text}),(function(n){var e=n.theme;return n.close?e.colors.error.main:e.colors.button.background}),(function(n){return n.theme.colors.border}),(function(n){var e=n.theme,t=n.size;return t?e.margin[t]:e.margin.s}),(function(n){var e=n.theme,t=n.size;return t?e.font.sizes[t]:e.font.sizes.s}),(function(n){return n.noMaxWidth?"none":"150px"}),(function(n){return n.mt||0}),(function(n){return n.my||0}),(function(n){return n.my||0})),Ue=w.c.header(Wn||(Wn=Object(V.a)(["\n  position: fixed;\n  top: ",";\n  width: 100%;\n  text-align: center;\n  height: ",";\n  line-height: ",";\n  z-index: ",";\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.margin.sm}),(function(n){return n.theme.sizes.nav}),(function(n){return n.theme.sizes.nav}),(function(n){return n.theme.zIndex.max}),(function(n){return n.theme.media.phone.s}),(function(n){return n.theme.font.sizes.xs})),Xe=Object(w.c)(v.b)(Bn||(Bn=Object(V.a)(["\n  color: ",";\n  text-decoration: none;\n"])),(function(n){return n.theme.colors.common.black})),Ke=function(){return Object(E.jsx)(Ue,{children:Object(E.jsx)(Xe,{to:$.DASHBOARD,children:Object(E.jsx)("h1",{children:"Habbit tracker"})})})},Qe=w.c.main(Jn||(Jn=Object(V.a)(["\n  min-height: 100vh;\n  width: 100%;\n"]))),Ze=t(72),nt=w.c.div(Yn||(Yn=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  width: 100%;\n  max-width: 300px;\n"])),(function(n){return n.theme.margin.sm})),et=w.c.label(_n||(_n=Object(V.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(n){return n.theme.font.sizes.m}),(function(n){return n.theme.margin.s})),tt=w.c.input(qn||(qn=Object(V.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(n){return n.theme.font.sizes.sm}),(function(n){var e=n.error,t=n.theme;return e&&"1px solid ".concat(t.colors.error.main)})),rt=w.c.p($n||($n=Object(V.a)(["\n  margin-top: ",";\n  color: ",";\n  text-align: justify;\n"])),(function(n){return n.theme.margin.xs}),(function(n){return n.theme.colors.error.main})),ct=function(n){var e=n.label,t=n.id,r=n.refVal,c=n.error,o=n.type,a=void 0===o?"text":o,i=Object(Ze.a)(n,["label","id","refVal","error","type"]);return Object(E.jsxs)(nt,{children:[Object(E.jsx)(et,{htmlFor:t,children:e}),Object(E.jsx)(tt,Object(y.a)(Object(y.a)({error:!!c,id:t,type:a},i),{},{ref:r})),c&&Object(E.jsx)(rt,{children:null===c||void 0===c?void 0:c.message})]})};!function(n){n.ERROR="error",n.LOADING="loading"}(Un||(Un={}));var ot,at=w.c.div(Xn||(Xn=Object(V.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n"])),(function(n){return n.theme.margin.s})),it=w.c.div(Kn||(Kn=Object(V.a)(["\n  border: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n"])),(function(n){var e=n.type,t=n.theme;return"1px solid ".concat(t.colors[e].border)}),(function(n){var e=n.type,t=n.theme;return"".concat(t.colors[e].main)}),(function(n){var e=n.type,t=n.theme;return"".concat(t.colors[e].text)}),(function(n){return n.theme.margin.xs}),(function(n){return n.theme.font.sizes.s})),st=function(n){var e=n.children,t=void 0===e?"\u0141adowanie...":e,r=n.type,c=void 0===r?Un.ERROR:r;return Object(E.jsx)(at,{children:Object(E.jsx)(it,{"data-testid":"alert",type:c,children:t})})},ut=function(n){var e=n.error,t=n.loading,r=Object(Ze.a)(n,["error","loading"]);return e?Object(E.jsx)(st,Object(y.a)(Object(y.a)({},r),{},{children:e})):t?Object(E.jsx)(st,Object(y.a)(Object(y.a)({},r),{},{type:Un.LOADING})):null},dt=Object(w.b)(ot||(ot=Object(V.a)(["\n    body{\n        color: ",";\n        background-color: ",";\n        font-family: 'Roboto', sans-serif;\n        overflow-x: hidden;\n    }\n    * {\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.body})),mt=function(){return Object(E.jsx)(C,{children:Object(E.jsxs)(M,{children:[Object(E.jsx)(dt,{}),Object(E.jsxs)(v.a,{basename:"/habbit-tracker",children:[Object(E.jsx)(Ke,{}),Object(E.jsx)(qe,{}),Object(E.jsx)(bt,{})]})]})})},lt=function(n){var e=Object.assign({},n);return N().token?Object(E.jsx)(pn.b,Object(y.a)({},e)):Object(E.jsx)(pn.a,{to:$.LOGIN})},bt=function(){return Object(E.jsx)(pn.d,{children:We.map((function(n){var e=n.path,t=n.Component;return n.isPrivate?Object(E.jsx)(lt,{path:e,children:Object(E.jsx)(t,{})},e):Object(E.jsx)(pn.b,{path:e,exact:!0,children:Object(E.jsx)(t,{})},e)}))})},ht=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,461)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;t(n),r(n),c(n),o(n),a(n)}))};g.a.render(Object(E.jsx)(x.a.StrictMode,{children:Object(E.jsx)(mt,{})}),document.getElementById("root")),ht()}},[[460,1,2]]]);
//# sourceMappingURL=main.bb691b48.chunk.js.map