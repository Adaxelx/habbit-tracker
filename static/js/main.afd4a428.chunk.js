(this["webpackJsonphabbit-tracker"]=this["webpackJsonphabbit-tracker"]||[]).push([[0],{160:function(e,n,t){},461:function(e,n,t){"use strict";t.r(n);var r,o,c,a,i,s,u,d,l,m,b,f,h,j,x,O=t(0),p=t.n(O),g=t(31),v=t.n(g),w=(t(160),t(17)),y=t(3),k=t(9),z={base:"10px",family:"Arial",light:300,regular:400,medium:500,bold:700,sizes:{xs:"0.75rem",s:"1rem",sm:"1.25rem",m:"1.5rem",ml:"2rem",l:"3rem"}},D={colors:{common:{black:"#000000",white:"#FFFFFF"}},font:z,margin:{xs:"0.5rem",s:"0.75rem",sm:"1rem",m:"1.25rem",ml:"1.5rem",l:"1.75rem"},time:{short:100,medium:300,long:500},zIndex:{max:1e3,medium:500,low:100},chooseFS:function(e){var n=z.sizes,t=Object.keys(n).find((function(n){return n===e}));return void 0!==t?n[t]:n.xs},sizes:{nav:"50px",dot:"20px"},media:{phone:{s:"320px"},tablet:{s:"768px",l:"1024px"},desktop:{s:"1366px",l:"1920px"}}},F="#AFE9FF",E=Object(k.a)(Object(k.a)({},D),{},{gridTile:{size:50},colors:Object(k.a)(Object(k.a)({},D.colors),{},{body:"#F3FFF2",calendar:{navigation:"#EDEFFF"},text:{primary:D.colors.common.black,secondary:"#808080",nav:"#A5A5A5"},button:{background:"#FFC136",text:"#fff"},nav:{topLeft:"#B7FF96",topRight:"#89FFED",bottomLeft:"#FDF194",bottomRight:"#FFADFC",background:"#A4FF9D",button:"#FFED67"},tile:{background:"#FFFCAF",backgroundActive:F,border:"#77CBFF"},modalBackground:F,error:{main:"#FF9191",border:"#730000",text:"#730000"},loading:{main:"#a6fff9",border:"#1b968e",text:"#1b968e"},border:"#707070"})}),S=t(1),L=Object(O.createContext)(E),T=L.Provider,C=function(e){var n=e.children;return Object(S.jsx)(T,{value:E,children:Object(S.jsx)(y.a,{theme:E,children:n})})},R=t(5),A=new(t(156).a),I=Object(O.createContext)({token:void 0,login:function(){},logout:function(){}}),G=I.Provider,N=function(){var e=new Date;return e.setDate(e.getDate()+14),e},M=function(){return Object(O.useContext)(I)},H=function(e){var n=e.children,t=Object(O.useState)(A.get("token")),r=Object(R.a)(t,2),o=r[0],c=r[1],a={token:o,login:function(e){A.set("token",e,{path:"/",expires:N()}),c(e)},logout:function(){A.remove("token",{path:"/"}),c(void 0)}};return Object(S.jsx)(G,{value:a,children:n})},W=t(4),V=y.c.button(r||(r=Object(W.a)(["\n  position: fixed;\n  height: ",";\n  width: ",";\n  top: ",";\n  background-color: transparent;\n  border: none;\n  right: ",";\n  padding: 0;\n  ","\n  transition: ",";\n  z-index: ",";\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.open&&"transform: rotate(-45deg);"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")}),(function(e){return e.theme.zIndex.max})),P=y.c.div(o||(o=Object(W.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  position: absolute;\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.dot}),(function(e){return e.theme.sizes.dot}),(function(e){return e.open?"0":"1"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")})),B=Object(y.c)(P)(c||(c=Object(W.a)(["\n  background-color: ",";\n  top: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.topLeft})),J=Object(y.c)(P)(a||(a=Object(W.a)(["\n  background-color: ",";\n  top: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.topRight})),Y=Object(y.c)(P)(i||(i=Object(W.a)(["\n  background-color: ",";\n  bottom: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.bottomLeft})),_=Object(y.c)(P)(s||(s=Object(W.a)(["\n  background-color: ",";\n  bottom: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.bottomRight})),q=y.c.div(u||(u=Object(W.a)(["\n  position: absolute;\n  height: 3px;\n  width: ",";\n  background-color: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.colors.error.main}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")})),$=Object(y.c)(q)(d||(d=Object(W.a)(["\n  transform: rotate(90deg);\n  top: 50%;\n"]))),U={DASHBOARD:"/",CALENDAR:"/calendar",LOGIN:"/login",REGISTER:"/register"},X=y.c.section(l||(l=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),K=Object(y.c)(X)(m||(m=Object(W.a)(["\n  height: 100vh;\n  width: 100%;\n  padding: 0 1rem;\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-between;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),Q=Object(y.c)(X)(b||(b=Object(W.a)(["\n  @media (min-width: ",") {\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.margin.l})),Z=y.c.h2(f||(f=Object(W.a)(["\n  font-size: ",";\n  margin: "," 0;\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.font.sizes.l}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.ml})),ee=y.c.p(h||(h=Object(W.a)(["\n  color: ",";\n  text-align: justify;\n  font-size: ",";\n  margin-bottom: ",";\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.l}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.sm})),ne=y.c.p(j||(j=Object(W.a)(["\n  font-size: ",";\n  margin: ",";\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){return e.theme.margin.s})),te=function(){return Object(S.jsx)(ut,{children:Object(S.jsxs)(K,{children:[Object(S.jsxs)(Q,{children:[Object(S.jsx)(Z,{children:"Habbit tracker"}),Object(S.jsx)(ee,{children:"Track your progress in very simple and personalized app"})]}),Object(S.jsxs)(X,{children:[Object(S.jsx)(ct,{as:w.b,to:U.REGISTER,size:"m",children:"Create account for free"}),Object(S.jsx)(ne,{children:"or"}),Object(S.jsx)(ct,{as:w.b,to:U.LOGIN,size:"m",children:"Log in"})]})]})})},re=t(12);!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(x||(x={}));var oe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ce=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ae=["January","February","March","April","May","Juny","Juni","August","September","October","November","December"],ie=function(e){var n=new Date(e),t=new Date(n.getFullYear(),0,0),r=n-t+60*(t.getTimezoneOffset()-n.getTimezoneOffset())*1e3;return Math.floor(r/864e5)},se=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},ue=function(e){var n=e.getDay();return 0===n&&(n=7),n-=1},de=function(e){var n=Object(R.a)(e,3),t=n[0],r=n[1],o=n[2];return"".concat(t,"-").concat(r<9?"0".concat(r+1):r+1,"-").concat(o<10?"0".concat(o):o)},le=function(e){return de(e).split("-").reverse().join(".")},me=function(e){var n=de(e),t=new Date(n),r=new Date(t.getFullYear(),0,0),o=t.getTime()-r.getTime()+60*(r.getTimezoneOffset()-t.getTimezoneOffset())*1e3;return Math.floor(o/864e5)};var be=function(e,n,t,r){var o=Object(O.useState)([]),c=Object(R.a)(o,2),a=c[0],i=c[1],s=Object(R.a)(n,3),u=s[0],d=s[1],l=s[2];return Object(O.useEffect)((function(){var o=ue(new Date(u,d,l)),c=me(t),a=me(n),s=o,m=[];m=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{numericStart:ie(e.dateStart),numericEnd:ie(e.dateEnd)})}));for(var b=[],f=[],h=ie("".concat(u,"-").concat(d+1,"-").concat(l)),j=c+1-a,x=0;x<Math.ceil(j/7);x++)for(var O=0;O<7;O++){b=b.filter((function(e){return e.numericEnd>c&&e.daysOfWeek.includes(s)}));var p=l+7*x+O;if(c<a)break;m=m.filter((function(e){return e.numericStart<=c&&a<=e.numericEnd&&!b.includes(e)&&e.daysOfWeek.includes(s)&&b.push(e),h<=e.numericEnd})),f.push({id:13*x+17*O,day:p,events:b}),h+=1,s++,a++,s>=7&&(s=0)}if(r)for(var g=0;g<6;g++)g<o&&f.unshift({id:167*g+1,day:-1,events:[]});i(f)}),[e]),[a]},fe=t(6),he=t.n(fe),je=t(11);var xe,Oe,pe,ge,ve,we,ye,ke,ze,De,Fe,Ee,Se,Le,Te,Ce,Re,Ae,Ie,Ge,Ne,Me,He,We,Ve,Pe,Be,Je,Ye,_e,qe,$e,Ue,Xe,Ke,Qe,Ze=function(e,n){var t=Object(O.useState)(""),r=Object(R.a)(t,2),o=r[0],c=r[1],a=Object(O.useState)(!1),i=Object(R.a)(a,2),s=i[0],u=i[1],d=Object(O.useState)([]),l=Object(R.a)(d,2),m=l[0],b=l[1];return Object(O.useEffect)((function(){(function(){var e=Object(je.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,n();case 4:t=e.sent,b(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(e.t0.message);case 11:u(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),e),[m,s,o]},en=function(){var e=Object(O.useState)([0,0]),n=Object(R.a)(e,2),t=n[0],r=n[1];return Object(O.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},nn=(t(152),t(153),t(60),t(18),t(10)),tn=function(e){return{required:"Field ".concat(e," is required.")}},rn={pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Incorrect characters."}},on=function(e){return Object(k.a)(Object(k.a)({},tn(e)),{},{minLength:{value:6,message:"Field ".concat(e," must have at least 6 characters.")},maxLength:{value:30,message:"Field ".concat(e," must have maximum 30 characters.")}})},cn=y.c.div(xe||(xe=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  max-width: 100%;\n  @media (min-width: ",") {\n    justify-content: flex-start;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),an=y.c.div(Oe||(Oe=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),sn=y.c.button(pe||(pe=Object(W.a)(["\n  border: none;\n  width: ",";\n  height: ",";\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    height: ",";\n  }\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){return e.theme.colors.common.white}),(function(e){return e.theme.media.tablet.s}),(function(e){var n=e.theme;return"".concat(2*n.gridTile.size,"px")}),(function(e){var n=e.theme;return"".concat(2*n.gridTile.size,"px")})),un=y.c.div(ge||(ge=Object(W.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background-color: ",";\n  top: ",";\n  left: ",";\n  ","\n"])),(function(e){var n=e.size,t=e.alone;return"".concat(t?n/1.3:n,"px")}),(function(e){var n=e.size,t=e.alone;return"".concat(t?n/1.3:n,"px")}),(function(e){return e.color}),(function(e){var n=e.position;return"".concat(n,"px")}),(function(e){var n=e.position;return"".concat(n,"px")}),(function(e){return e.alone&&"transform: translate(-50%,-50%);top: 50%;left:50%"})),dn=y.c.p(ve||(ve=Object(W.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: ",";\n"])),(function(e){return e.theme.zIndex.low})),ln=function(e,n){var t=n*(1.3+.1*(e.length-2))/e.length,r=(n-t)/(e.length-1),o=-r;return e.map((function(n){return o+=r,Object(S.jsx)(un,{position:o,alone:1===e.length,color:n.color,size:t},n.id)}))},mn=function(e){var n=e.colors,t=e.day,r=e.handleDayChange,o=Object(O.useContext)(L).gridTile.size,c=en(),a=Object(R.a)(c,1)[0];return Object(S.jsx)(sn,{onClick:r,children:-1===t?null:Object(S.jsxs)(S.Fragment,{children:[n&&ln(n,a>768?2*o:o),Object(S.jsx)(dn,{"data-testid":"day",children:t})]})})},bn=y.c.div(we||(we=Object(W.a)(["\n  @media (min-width: ",") {\n    margin-top: 5rem;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),fn=y.c.div(ye||(ye=Object(W.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n  grid-template-rows: auto;\n  max-width: 100%;\n  border: 1px solid ",";\n  border-top: none;\n  background-color: #fff;\n"])),(function(e){return e.theme.colors.border})),hn=Object(y.c)(fn)(ke||(ke=Object(W.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  border-bottom: none;\n"])),(function(e){return e.theme.colors.calendar.navigation}),(function(e){return e.theme.colors.border})),jn=y.c.div(ze||(ze=Object(W.a)(["\n  width: ",";\n  padding: ",";\n"])),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){return e.theme.margin.s})),xn=function(e){var n=e.events,t=e.month,r=e.year,o=e.moveDate,c=e.handleDayChange,a=[r,t,1],i=[r,t,new Date(r,t+1,0).getDate()],s=be(n,a,i,!0),u=Object(R.a)(s,1)[0];return Object(S.jsxs)(bn,{children:[Object(S.jsx)(yn,{navId:"main",header:"".concat(ae[t]," ").concat(r),moveDate:o}),Object(S.jsx)(hn,{children:oe.map((function(e){return Object(S.jsx)(jn,{children:e},e)}))}),Object(S.jsx)(fn,{children:u.map((function(e){var n=e.id,o=e.day,a=e.events;return Object(S.jsx)(mn,{handleDayChange:function(){return c([r,t,o])},colors:a.map((function(e){var t=e.label,r=e._id;return t?{color:null===t||void 0===t?void 0:t.color,id:"".concat(r).concat(n)}:{}})),day:o},n)}))})]})},On=t(100),pn=t(101),gn=y.c.div(De||(De=Object(W.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: "," 0;\n"])),(function(e){return e.theme.margin.s})),vn=y.c.button(Fe||(Fe=Object(W.a)(["\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.m})),wn=y.c.h3(Ee||(Ee=Object(W.a)(["\n  width: 200px;\n  text-align: center;\n  line-height: 100%;\n  margin: 0;\n  @media (min-width: ",") {\n    width: 400px;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.font.sizes.ml})),yn=function(e){var n=e.header,t=e.moveDate,r=e.navId,o=e.backToCalendar;return Object(S.jsxs)(gn,{children:[Object(S.jsx)(vn,{"data-testid":"moveLeft-".concat(r),onClick:function(){return t(x.LEFT)},children:Object(S.jsx)(On.a,{icon:pn.a})}),Object(S.jsx)(wn,{onClick:o,"data-testid":"dateCalendar-".concat(r),children:n}),Object(S.jsx)(vn,{"data-testid":"moveRight-".concat(r),onClick:function(){return t(x.RIGHT)},children:Object(S.jsx)(On.a,{icon:pn.b})})]})},kn=y.c.div(Se||(Se=Object(W.a)(["\n  background-color: ",";\n  min-width: 275px;\n  height: 500px;\n  border: 1px solid ",";\n"])),(function(e){var n=e.theme;return e.active?n.colors.tile.backgroundActive:n.colors.tile.background}),(function(e){return e.theme.colors.border})),zn=y.c.h3(Le||(Le=Object(W.a)(["\n  font-size: ",";\n  margin: "," 0;\n  text-align: center;\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m})),Dn=function(e){var n=e.events,t=e.header,r=e.active;return Object(S.jsxs)(kn,{active:r,children:[Object(S.jsx)(zn,{children:t}),n.map((function(e){return Object(S.jsx)(Rn,{habbit:e},e._id)}))]})},Fn=y.c.div(Te||(Te=Object(W.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),En=y.c.small(Ce||(Ce=Object(W.a)(["\n  background-color: ",";\n  padding: ",";\n  width: auto;\n  border-radius: 20px;\n"])),(function(e){return e.color}),(function(e){return e.theme.margin.s})),Sn=y.c.div(Re||(Re=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 ",";\n  border-left: 1px solid ",";\n  margin: 0 ",";\n  margin-top: ",";\n  overflow-y: scroll;\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.margin.s}),(function(e){return e.theme.colors.tile.border}),(function(e){return e.theme.margin.s}),(function(e){return e.theme.margin.xs})),Ln=y.c.h2(Ae||(Ae=Object(W.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n  margin-top: 0;\n"])),(function(e){return e.theme.font.sizes.ml}),(function(e){return e.theme.margin.xs})),Tn=y.c.p(Ie||(Ie=Object(W.a)(["\n  color: gray;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),Cn=y.c.p(Ge||(Ge=Object(W.a)(["\n  text-align: justify;\n"]))),Rn=function(e){var n=e.habbit,t=n.title,r=n.timeEnd,o=n.timeStart,c=n.description,a=n.label;return Object(S.jsxs)(Fn,{children:[Object(S.jsx)(ct,{size:"s",my:"0.75rem",noMaxWidth:!0,"data-testid":"edit",children:"Edit habbit"}),Object(S.jsx)(ct,{size:"s",close:!0,noMaxWidth:!0,"data-testid":"delete",children:"X"}),Object(S.jsxs)(Sn,{children:[a&&Object(S.jsx)(En,{color:a.color,children:a.title}),Object(S.jsx)(Ln,{children:t}),Object(S.jsx)(Tn,{children:"".concat(o,"-").concat(r)}),Object(S.jsx)(Cn,{children:c})]})]})},An="".concat("https://habbit-tracker-back.herokuapp.com","/"),In="".concat(An,"users/"),Gn="".concat(An,"events/"),Nn="".concat(An,"labels/"),Mn={LOGIN:"".concat(In,"login/"),REGISTER:"".concat(In,"register/"),LOGOUT:"".concat(In,"logout/"),EVENTS:Gn,LABELS:Nn},Hn=function(){var e=Object(je.a)(he.a.mark((function e(n,t,r){var o,c,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Mn.EVENTS,"?from=").concat(t,"&to=").concat(r),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"GET"});case 2:if(200!==(o=e.sent).status){e.next=5;break}return e.abrupt("return",o.json());case 5:return e.next=7,o.json();case 7:throw c=e.sent,a=c.message,new Error(a);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Wn=y.c.div(Ne||(Ne=Object(W.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: scroll;\n"]))),Vn=function(e){var n=e.from,t=e.to,r=e.token,o=Object(O.useRef)(null),c=en(),a=Object(R.a)(c,1)[0],i=de(n),s=de(t),u=Ze([n,t,r],(function(){return Hn(r,i,s)})),d=Object(R.a)(u,1)[0],l=be(d,n,t),m=Object(R.a)(l,1)[0];Object(O.useLayoutEffect)((function(){if(m.length>1&&o&&o.current&&o.current.scrollWidth>a){var e,n=o.current.scrollWidth/2-a/2;null===o||void 0===o||null===(e=o.current)||void 0===e||e.scroll(n,0)}}),[m,o]);var b=ue(new Date(i)),f=new Date(i).getTime(),h=new Date;h.setHours(0,0,0,0);var j=h.getTime();return Object(S.jsx)(Wn,{ref:o,children:m.map((function(e,n){var t=e.events,r=e.id,o=b+n>6?(b+n)%7:b+n,c=new Date(f);c.setHours(0,0,0,0);var a=c.getTime();return f+=864e5,Object(S.jsx)(Dn,{active:j===a,header:ce[o],events:t},r)}))})},Pn=function(){var e=Object(O.useState)(new Date),n=Object(R.a)(e,2),t=n[0],r=(n[1],Object(O.useState)(t.getMonth())),o=Object(R.a)(r,2),c=o[0],a=o[1],i=Object(O.useState)(t.getFullYear()),s=Object(R.a)(i,2),u=s[0],d=s[1],l=se(new Date(u,c,2)),m=33-new Date(u,c,32).getDate(),b=se(new Date(u,c,m)),f=M().token,h=en(),j=Object(R.a)(h,1)[0],p=Object(O.useState)(!1),g=Object(R.a)(p,2),v=g[0],w=g[1],y=Object(O.useState)([u,c,t.getDate()]),k=Object(R.a)(y,2),z=k[0],D=k[1],F=Object(R.a)(z,3),E=F[0],L=F[1],T=F[2],C=Ze([l,b,f],(function(){return Hn(f,l,b)})),A=Object(R.a)(C,3),I=A[0],G=A[1],N=A[2],H=function(e){e===x.LEFT?0===c?(a(11),d((function(e){return e-1}))):a((function(n){return n+e})):11===c?(a(0),d((function(e){return e+1}))):a((function(n){return n+e}))},W=function(e){w((function(e){return!e})),e&&D(e)},V=function(e){var n=Object(R.a)(e,3),t=n[0],r=n[1],o=n[2],c=new Date(t,r+1,0).getDate(),a=Object(re.a)(e),i=a[0],s=a[1],u=a[2],d=Object(re.a)(e),l=d[0],m=d[1],b=d[2];return o+3>c?(11===r?(m=0,l+=1):m=r+1,b=o+3-c):b=o+3,o-3<1?(0===r?(s=11,i-=1):s=r-1,u=o-3+new Date(t,r,0).getDate()):u=o-3,[[i,s,u],[l,m,b]]}(z),P=Object(R.a)(V,2),B=P[0],J=P[1],Y=Object(O.useMemo)((function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(xn,{events:I,month:c,moveDate:H,year:u,handleDayChange:W}),Object(S.jsx)(gt,{loading:G,error:N}),Object(S.jsxs)(an,{children:[Object(S.jsx)(ct,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"addh",children:"Add habbit"}),Object(S.jsx)(ct,{size:"s",noMaxWidth:!0,mt:"16px",my:"16px","data-testid":"addl",children:"Add label"}),Object(S.jsx)(ct,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"labell",children:"Label list"})]})]})}),[I,c,u,G,N]);return Object(S.jsx)(cn,{children:j>=768?Object(S.jsxs)(S.Fragment,{children:[Y,Object(S.jsx)(yn,{navId:"desktopDay",header:"".concat(le(B)," - ").concat(le(J)),moveDate:function(e){return function(e,n,t){var r=Object(R.a)(n,3),o=r[0],c=r[1],a=r[2],i=new Date(o,c+1,0).getDate();if(e===x.RIGHT)if(a+7>i){var s=a+7-i;t(11===c?[o+1,0,s]:[o,c+1,s])}else t([o,c,a+7]);else if(a-7<1){var u=a-7+new Date(o,c,0).getDate();t(0===c?[o-1,11,u]:[o,c-1,u])}else t([o,c,a-7])}(e,z,D)}}),Object(S.jsx)(Vn,{from:B,to:J,token:f})]}):v?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(yn,{navId:"mobileDay",header:"".concat(T," ").concat(ae[L]," ").concat(E),moveDate:function(e){return function(e,n,t){var r=Object(R.a)(n,3),o=r[0],c=r[1],a=r[2],i=new Date(o,c+1,0).getDate();e===x.RIGHT?t(a===i?11===c?[o+1,0,1]:[o,c+1,1]:[o,c,a+1]):t(1===a?0===c?[o-1,11,31]:[o,c-1,new Date(o,c,0).getDate()]:[o,c,a-1])}(e,z,D)},backToCalendar:function(){return w(!1)}}),Object(S.jsx)(Vn,{from:z,to:z,token:f})]}):Y})},Bn=t(73),Jn=Object(y.c)(X)(Me||(Me=Object(W.a)(["\n  height: 100vh;\n  width: 100%;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),Yn=function(){var e=Object(je.a)(he.a.mark((function e(n){var t,r,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Mn.LOGIN,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.next=7,t.json();case 7:throw r=e.sent,o=r.message,new Error(o||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_n=function(){var e=Object(O.useState)(""),n=Object(R.a)(e,2),t=n[0],r=n[1],o=Object(O.useState)(!1),c=Object(R.a)(o,2),a=c[0],i=c[1],s=M(),u=Object(Bn.a)(),d=u.register,l=u.handleSubmit,m=u.errors,b=Object(nn.g)(),f=function(){var e=Object(je.a)(he.a.mark((function e(n){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,Yn(n);case 4:t=e.sent,i(!1),s.login(t.token),b.push(U.CALENDAR),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),r(e.t0.message),i(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return s.token?Object(S.jsx)(nn.a,{to:U.CALENDAR}):Object(S.jsx)(ut,{children:Object(S.jsxs)(Jn,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(S.jsx)(ht,{name:"login",label:"Login",id:"login",refVal:d(on("login")),minLength:6,maxLength:30,error:m.login,"data-testid":"login"}),Object(S.jsx)(ht,{name:"password",label:"Password",id:"password",type:"password",refVal:d(on("password")),autoComplete:"on",minLength:6,maxLength:30,error:m.password,"data-testid":"password"}),Object(S.jsx)(gt,{error:t,loading:a}),Object(S.jsx)(ct,{size:"m",mt:"16px",type:"submit","data-testid":"submit",children:"Log in"})]})})},qn=function(){var e=Object(je.a)(he.a.mark((function e(n){var t,r,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Mn.REGISTER,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.next=7,t.json();case 7:throw r=e.sent,o=r.message,new Error(o||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$n=U.DASHBOARD,Un=U.CALENDAR,Xn=U.LOGIN,Kn=U.REGISTER,Qn=[{link:$n,name:"Home page"},{link:Un,name:"Your tracker"},{link:Xn,name:"Login"},{link:Kn,name:"Register"}],Zn=[{path:$n,Component:te,exact:!0},{path:Un,Component:Pn,isPrivate:!0},{path:Xn,Component:_n},{path:Kn,Component:function(){var e=Object(O.useState)(""),n=Object(R.a)(e,2),t=n[0],r=n[1],o=Object(O.useState)(!1),c=Object(R.a)(o,2),a=c[0],i=c[1],s=M(),u=Object(Bn.a)(),d=u.register,l=u.handleSubmit,m=u.errors,b=Object(nn.g)(),f=function(){var e=Object(je.a)(he.a.mark((function e(n){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.password!==n.passwordRepeat){e.next=17;break}return i(!0),e.prev=2,e.next=5,qn(n);case 5:t=e.sent,i(!1),s.login(t.token),b.push(U.CALENDAR),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r(e.t0.message),i(!1);case 15:e.next=18;break;case 17:r("Passwords must be equal.");case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return s.token?Object(S.jsx)(nn.a,{to:U.CALENDAR}):Object(S.jsx)(ut,{children:Object(S.jsxs)(Jn,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(S.jsx)("h2",{children:"Create new account"}),Object(S.jsx)(ht,{name:"login",label:"Login",id:"login",refVal:d(on("login")),minLength:6,maxLength:30,error:m.login,"data-testid":"login"}),Object(S.jsx)(ht,{name:"email",label:"Email",id:"email",type:"email",refVal:d(Object(k.a)(Object(k.a)({},tn("email")),rn)),error:m.email,"data-testid":"email"}),Object(S.jsx)(ht,{name:"password",label:"Password",id:"password",type:"password",refVal:d(on("password")),autoComplete:"on",minLength:6,maxLength:30,error:m.password,"data-testid":"password"}),Object(S.jsx)(ht,{name:"passwordRepeat",label:"Repeat password",id:"passwordRepeat",type:"password",refVal:d(on("repeat password")),autoComplete:"on",minLength:6,maxLength:30,error:m.passwordRepeat,"data-testid":"passwordRepeat"}),Object(S.jsx)(gt,{error:t,loading:a}),Object(S.jsx)(ct,{size:"m",type:"submit","data-testid":"submit",children:"Create account"})]})})}}],et=y.c.nav(He||(He=Object(W.a)(["\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  background-color: ",";\n  z-index: ",";\n"])),(function(e){var n=e.open;return"scale(".concat(n?"1":"0",")")}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return"opacity ".concat(n.time.medium,"ms")}),(function(e){return e.theme.colors.nav.background}),(function(e){return e.theme.zIndex.medium})),nt=y.c.div(We||(We=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),tt=Object(y.c)(w.b)(Ve||(Ve=Object(W.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: ",";\n  margin-bottom: ",";\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.colors.text.nav}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m}),(function(e){var n=e.open;return"scale(".concat(n?"1":"2",") translateY(").concat(n?"0px":"-50px",")")}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return e.open?"".concat(n.time.medium,"ms"):"0"})),rt=function(e){var n=e.open,t=e.handleClose;return Object(S.jsx)(et,{open:n,children:Object(S.jsx)(nt,{children:Qn.map((function(e){var r=e.name,o=e.link;return Object(S.jsx)(tt,{open:n,to:o,onClick:function(){return t()},children:r},r)}))})})},ot=function(){var e=Object(O.useState)(!1),n=Object(R.a)(e,2),t=n[0],r=n[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(V,{open:t,"data-testid":"navButton",onClick:function(){return r((function(e){return!e}))},children:[Object(S.jsx)(B,{open:t}),Object(S.jsx)(J,{open:t}),Object(S.jsx)(Y,{open:t}),Object(S.jsx)(_,{open:t}),Object(S.jsx)(q,{open:t}),Object(S.jsx)($,{open:t})]}),Object(S.jsx)(rt,{open:t,handleClose:function(){return r(!1)}})]})},ct=y.c.button(Pe||(Pe=Object(W.a)(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ",";\n  font-size: ",";\n  min-width: ",";\n  display: inline-block;\n  text-align: center;\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var n=e.theme;return e.close?n.colors.common.black:n.colors.button.text}),(function(e){var n=e.theme;return e.close?n.colors.error.main:n.colors.button.background}),(function(e){return e.theme.colors.border}),(function(e){var n=e.theme,t=e.size;return t?n.margin[t]:n.margin.s}),(function(e){var n=e.theme,t=e.size;return t?n.font.sizes[t]:n.font.sizes.s}),(function(e){return e.noMaxWidth?"none":"150px"}),(function(e){return e.mt||0}),(function(e){return e.my||0}),(function(e){return e.my||0})),at=y.c.header(Be||(Be=Object(W.a)(["\n  position: fixed;\n  top: ",";\n  width: 100%;\n  text-align: center;\n  height: ",";\n  line-height: ",";\n  z-index: ",";\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.zIndex.max}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.xs})),it=Object(y.c)(w.b)(Je||(Je=Object(W.a)(["\n  color: ",";\n  text-decoration: none;\n"])),(function(e){return e.theme.colors.common.black})),st=function(){return Object(S.jsx)(at,{children:Object(S.jsx)(it,{to:U.DASHBOARD,children:Object(S.jsx)("h1",{children:"Habbit tracker"})})})},ut=y.c.main(Ye||(Ye=Object(W.a)(["\n  min-height: 100vh;\n  width: 100%;\n"]))),dt=t(72),lt=y.c.div(_e||(_e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  width: 100%;\n  max-width: 300px;\n"])),(function(e){return e.theme.margin.sm})),mt=y.c.label(qe||(qe=Object(W.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.s})),bt=y.c.input($e||($e=Object(W.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var n=e.error,t=e.theme;return n&&"1px solid ".concat(t.colors.error.main)})),ft=y.c.p(Ue||(Ue=Object(W.a)(["\n  margin-top: ",";\n  color: ",";\n  text-align: justify;\n"])),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.colors.error.main})),ht=function(e){var n=e.label,t=e.id,r=e.refVal,o=e.error,c=e.type,a=void 0===c?"text":c,i=Object(dt.a)(e,["label","id","refVal","error","type"]);return Object(S.jsxs)(lt,{children:[Object(S.jsx)(mt,{htmlFor:t,children:n}),Object(S.jsx)(bt,Object(k.a)(Object(k.a)({error:!!o,id:t,type:a},i),{},{ref:r})),o&&Object(S.jsx)(ft,{children:null===o||void 0===o?void 0:o.message})]})};!function(e){e.ERROR="error",e.LOADING="loading"}(Xe||(Xe={}));var jt,xt=y.c.div(Ke||(Ke=Object(W.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n"])),(function(e){return e.theme.margin.s})),Ot=y.c.div(Qe||(Qe=Object(W.a)(["\n  border: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n"])),(function(e){var n=e.type,t=e.theme;return"1px solid ".concat(t.colors[n].border)}),(function(e){var n=e.type,t=e.theme;return"".concat(t.colors[n].main)}),(function(e){var n=e.type,t=e.theme;return"".concat(t.colors[n].text)}),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.font.sizes.s})),pt=function(e){var n=e.children,t=void 0===n?"\u0141adowanie...":n,r=e.type,o=void 0===r?Xe.ERROR:r;return Object(S.jsx)(xt,{children:Object(S.jsx)(Ot,{"data-testid":"alert",type:o,children:t})})},gt=function(e){var n=e.error,t=e.loading,r=Object(dt.a)(e,["error","loading"]);return n?Object(S.jsx)(pt,Object(k.a)(Object(k.a)({},r),{},{children:n})):t?Object(S.jsx)(pt,Object(k.a)(Object(k.a)({},r),{},{type:Xe.LOADING})):null},vt=Object(y.b)(jt||(jt=Object(W.a)(["\n    body{\n        color: ",";\n        background-color: ",";\n        font-family: 'Roboto', sans-serif;\n        overflow-x: hidden;\n    }\n    * {\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.body})),wt=function(){return Object(S.jsx)(C,{children:Object(S.jsxs)(H,{children:[Object(S.jsx)(vt,{}),Object(S.jsxs)(w.a,{basename:"/habbit-tracker",children:[Object(S.jsx)(st,{}),Object(S.jsx)(ot,{}),Object(S.jsx)(kt,{})]})]})})},yt=function(e){var n=Object.assign({},e);return M().token?Object(S.jsx)(nn.b,Object(k.a)({},n)):Object(S.jsx)(nn.a,{to:U.LOGIN})},kt=function(){return Object(S.jsx)(nn.d,{children:Zn.map((function(e){var n=e.path,t=e.Component;return e.isPrivate?Object(S.jsx)(yt,{path:n,children:Object(S.jsx)(t,{})},n):Object(S.jsx)(nn.b,{path:n,exact:!0,children:Object(S.jsx)(t,{})},n)}))})},zt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,462)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),c(e),a(e)}))};v.a.render(Object(S.jsx)(p.a.StrictMode,{children:Object(S.jsx)(wt,{})}),document.getElementById("root")),zt()}},[[461,1,2]]]);
//# sourceMappingURL=main.afd4a428.chunk.js.map