(this["webpackJsonphabbit-tracker"]=this["webpackJsonphabbit-tracker"]||[]).push([[0],{279:function(e,n,t){},686:function(e,n,t){},770:function(e,n,t){"use strict";t.r(n);var r,a,o,i,c,s,u,d,l,b,h,f,m,j,p=t(0),x=t.n(p),O=t(30),g=t.n(O),v=(t(279),t(25)),w=t(4),y=t(13),k={base:"10px",family:"Arial",light:300,regular:400,medium:500,bold:700,sizes:{xs:"0.75rem",s:"1rem",sm:"1.25rem",m:"1.5rem",ml:"2rem",l:"3rem"}},S={colors:{common:{black:"#000000",white:"#FFFFFF"}},font:k,margin:{xs:"0.5rem",s:"0.75rem",sm:"1rem",m:"1.25rem",ml:"1.5rem",l:"1.75rem"},time:{short:100,medium:300,long:500},zIndex:{max:1e3,medium:500,low:100},chooseFS:function(e){var n=k.sizes,t=Object.keys(n).find((function(n){return n===e}));return void 0!==t?n[t]:n.xs},sizes:{nav:"50px",dot:"20px"},media:{phone:{s:"320px"},tablet:{s:"768px",l:"1024px"},desktop:{s:"1366px",l:"1920px"}}},C="#AFE9FF",z=Object(y.a)(Object(y.a)({},S),{},{gridTile:{size:50},colors:Object(y.a)(Object(y.a)({},S.colors),{},{body:"#F3FFF2",calendar:{navigation:"#EDEFFF"},text:{primary:S.colors.common.black,secondary:"#808080",nav:"#A5A5A5"},button:{background:"#FFC136",text:"#fff"},nav:{topLeft:"#B7FF96",topRight:"#89FFED",bottomLeft:"#FDF194",bottomRight:"#FFADFC",background:"#A4FF9D",button:"#FFED67"},tile:{background:"#FFFCAF",backgroundActive:C,border:"#77CBFF"},modalBackground:C,error:{main:"#FF9191",border:"#730000",text:"#730000"},success:{main:"#d9ffd9",border:"#10b9b0",text:"#5cb85c"},loading:{main:"#a6fff9",border:"#1b968e",text:"#1b968e"},border:"#707070"})}),E=t(1),D=Object(p.createContext)(z),L=D.Provider,T=function(e){var n=e.children;return Object(E.jsx)(L,{value:z,children:Object(E.jsx)(w.a,{theme:z,children:n})})},A=t(9),R=new(t(275).a),F=Object(p.createContext)({token:void 0,login:function(){},logout:function(){}}),M=F.Provider,I=function(){var e=new Date;return e.setDate(e.getDate()+14),e},N=function(){return Object(p.useContext)(F)},V=function(e){var n=e.children,t=Object(p.useState)(R.get("token")),r=Object(A.a)(t,2),a=r[0],o=r[1],i={token:a,login:function(e){R.set("token",e,{path:"/",expires:I()}),o(e)},logout:function(){R.remove("token",{path:"/"}),o(void 0)}};return Object(E.jsx)(M,{value:i,children:n})},H=Object(p.createContext)({open:!1,message:"",setOpen:function(){},changeVisibility:function(){},changeMessage:function(){},showAlert:function(e,n){console.log(e,n)}}),W=function(){return Object(p.useContext)(H)},P=function(e){var n=Object(p.useState)(!1),t=Object(A.a)(n,2),r=t[0],a=t[1],o=Object(p.useState)(""),i=Object(A.a)(o,2),c=i[0],s=i[1],u=Object(p.useState)(0),d=Object(A.a)(u,2),l=d[0],b=d[1],h={open:r,message:c,variant:l,changeVisibility:function(e){return a(e)},changeMessage:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";a(!1),s(e),b(n)},showAlert:function(e,n){h.changeMessage(e,n),h.changeVisibility(!0)}};return Object(E.jsx)(H.Provider,Object(y.a)({value:h},e))},G=Object(p.createContext)({refHabbit:!1,refLabel:!1,handleRefHabbit:function(){},handleRefLabel:function(){}}),B=G.Provider,U=function(){return Object(p.useContext)(G)},_=function(e){var n=e.children,t=Object(p.useState)(!1),r=Object(A.a)(t,2),a=r[0],o=r[1],i=Object(p.useState)(!1),c=Object(A.a)(i,2),s=c[0],u=c[1],d={refHabbit:a,refLabel:s,handleRefHabbit:function(){return o((function(e){return!e}))},handleRefLabel:function(){return u((function(e){return!e}))}};return Object(E.jsx)(B,{value:d,children:n})},Y=t(5),J=w.d.button(r||(r=Object(Y.a)(["\n  position: fixed;\n  height: ",";\n  width: ",";\n  top: ",";\n  background-color: transparent;\n  border: none;\n  right: ",";\n  padding: 0;\n  ","\n  transition: ",";\n  z-index: ",";\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.open&&"transform: rotate(-45deg);"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")}),(function(e){return e.theme.zIndex.max})),X=w.d.div(a||(a=Object(Y.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  position: absolute;\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.dot}),(function(e){return e.theme.sizes.dot}),(function(e){return e.open?"0":"1"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")})),q=Object(w.d)(X)(o||(o=Object(Y.a)(["\n  background-color: ",";\n  top: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.topLeft})),$=Object(w.d)(X)(i||(i=Object(Y.a)(["\n  background-color: ",";\n  top: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.topRight})),K=Object(w.d)(X)(c||(c=Object(Y.a)(["\n  background-color: ",";\n  bottom: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.bottomLeft})),Q=Object(w.d)(X)(s||(s=Object(Y.a)(["\n  background-color: ",";\n  bottom: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.bottomRight})),Z=w.d.div(u||(u=Object(Y.a)(["\n  position: absolute;\n  height: 3px;\n  width: ",";\n  background-color: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.colors.error.main}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return"".concat(n.time.medium,"ms")})),ee=Object(w.d)(Z)(d||(d=Object(Y.a)(["\n  transform: rotate(90deg);\n  top: 50%;\n"]))),ne=t(8),te=t.n(ne),re=t(11),ae={DASHBOARD:"/",CALENDAR:"/calendar",LOGIN:"/login",REGISTER:"/register"},oe=w.d.section(l||(l=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),ie=Object(w.d)(oe)(b||(b=Object(Y.a)(["\n  height: 100vh;\n  width: 100%;\n  padding: 0 1rem;\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-between;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),ce=Object(w.d)(oe)(h||(h=Object(Y.a)(["\n  @media (min-width: ",") {\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.margin.l})),se=w.d.h2(f||(f=Object(Y.a)(["\n  font-size: ",";\n  margin: "," 0;\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.font.sizes.l}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.ml})),ue=w.d.p(m||(m=Object(Y.a)(["\n  color: ",";\n  text-align: justify;\n  font-size: ",";\n  margin-bottom: ",";\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.l}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.sm})),de=w.d.p(j||(j=Object(Y.a)(["\n  font-size: ",";\n  margin: ",";\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){return e.theme.margin.s})),le=function(){return Object(E.jsx)(Qt,{children:Object(E.jsxs)(ie,{children:[Object(E.jsxs)(ce,{children:[Object(E.jsx)(se,{children:"Habbit tracker"}),Object(E.jsx)(ue,{children:"Track your progress in very simple and personalized app"})]}),Object(E.jsxs)(oe,{children:[Object(E.jsx)(Ut,{as:v.b,to:ae.REGISTER,size:"m",children:"Create account for free"}),Object(E.jsx)(de,{children:"or"}),Object(E.jsx)(Ut,{as:v.b,to:ae.LOGIN,size:"m",children:"Log in"})]})]})})},be=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],he=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fe=["January","February","March","April","May","Juny","Juni","August","September","October","November","December"],me=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},je=function(e){var n=e.getDay();return 0===n&&(n=7),n-=1},pe=function(e){return function(e){var n=[e.getFullYear(),e.getMonth(),e.getDate()],t=n[1],r=n[2];return"".concat(n[0],"-").concat(t<9?"0".concat(t+1):t+1,"-").concat(r<10?"0".concat(r):r)}(e).split("-").reverse().join(".")},xe=function(e,n,t,r,a){var o=Object(p.useState)([]),i=Object(A.a)(o,2),c=i[0],s=i[1];return Object(p.useEffect)((function(){for(var t=new Date(n.getTime()),o=0,i=[],c=!1,u=-1,d=0;d<6;d++)for(var l=0;l<7;l++){var b=e.filter((function(e){return new Date(e.dateStart)<=t&&new Date(e.dateEnd)>=t&&e.daysOfWeek.includes(je(t))}));c=!1,r<=t&&t<a&&(r.getTime()===t.getTime()&&(u=je(t)),c=!0,o++),i.push({id:13*d+17*l,day:o,date:new Date(t.getTime()),events:b,active:c}),t.setDate(t.getDate()+1)}for(var h=0;h<6;h++)h<u&&i.unshift({id:167*h+1,day:-1,events:[],active:!0});s(i)}),[e,n,t]),[c]};var Oe,ge,ve=function(e,n,t){var r=Object(p.useState)(""),a=Object(A.a)(r,2),o=a[0],i=a[1],c=Object(p.useState)(!1),s=Object(A.a)(c,2),u=s[0],d=s[1],l=Object(p.useState)([]),b=Object(A.a)(l,2),h=b[0],f=b[1];return Object(p.useEffect)((function(){(function(){var e=Object(re.a)(te.a.mark((function e(){var r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),e.prev=1,null===(r=window.caches)||void 0===r||r.open(t).then((function(e){return e.keys()})).then((function(e){e.forEach(function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.match(n);case 2:if(!(t=e.sent)){e.next=10;break}return e.next=6,t.json();case 6:r=e.sent,f(r),e.next=11;break;case 10:i("This data does not exist in your cache memory.");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})),!navigator.onLine){e.next=8;break}return e.next=6,n();case 6:a=e.sent,f(a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i(e.t0.message);case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()()}),e),[h,u,o]},we=function(){var e=Object(p.useState)([0,0]),n=Object(A.a)(e,2),t=n[0],r=n[1];return Object(p.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},ye=(t(263),t(264),t(82),t(26),t(18)),ke=function(e){return{required:"Field ".concat(e," is required.")}},Se={pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Incorrect characters."}},Ce=function(e){return Object(y.a)(Object(y.a)({},ke(e)),{},{minLength:{value:6,message:"Field ".concat(e," must have at least 6 characters.")},maxLength:{value:30,message:"Field ".concat(e," must have maximum 30 characters.")}})},ze=function(e,n){var t="Your time is not in boundaries.";if(e&&n){var r=n.split(":"),a=Object(A.a)(r,2),o=a[0],i=a[1],c=e.split(":"),s=Object(A.a)(c,2),u=s[0],d=s[1];return u<o||(u===o&&d<i||t)}return t},Ee=function(e,n){return{validate:{min:function(n){return ze(e,n)},max:function(e){return ze(e,n)}}}};!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(Oe||(Oe={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(ge||(ge={}));var De,Le,Te,Ae,Re,Fe,Me,Ie,Ne,Ve,He,We,Pe,Ge,Be,Ue,_e,Ye,Je,Xe,qe,$e,Ke,Qe,Ze,en,nn,tn,rn,an,on,cn,sn,un,dn,ln,bn,hn,fn,mn,jn,pn,xn,On,gn="".concat("https://habbit-tracker-back.herokuapp.com","/"),vn="".concat(gn,"users/"),wn="".concat(gn,"events/"),yn="".concat(gn,"labels/"),kn={DASHBOARD:gn,LOGIN:"".concat(vn,"login/"),REGISTER:"".concat(vn,"register/"),LOGOUT:"".concat(vn,"logout/"),EVENTS:wn,LABELS:yn},Sn=w.d.div(De||(De=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  max-width: 100%;\n  @media (min-width: ",") {\n    justify-content: flex-start;\n    padding-top: 0;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),Cn=w.d.div(Le||(Le=Object(Y.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),zn=w.d.button(Te||(Te=Object(Y.a)(["\n  border: none;\n  width: ",";\n  height: ",";\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    height: ",";\n  }\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){return e.theme.colors.common.white}),(function(e){return e.theme.media.tablet.s}),(function(e){var n=e.theme;return"".concat(2*n.gridTile.size,"px")}),(function(e){var n=e.theme;return"".concat(2*n.gridTile.size,"px")})),En=w.d.div(Ae||(Ae=Object(Y.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background-color: ",";\n  top: ",";\n  left: ",";\n  ","\n"])),(function(e){var n=e.size,t=e.alone;return"".concat(t?n/1.3:n,"px")}),(function(e){var n=e.size,t=e.alone;return"".concat(t?n/1.3:n,"px")}),(function(e){return e.color}),(function(e){var n=e.position;return"".concat(n,"px")}),(function(e){var n=e.position;return"".concat(n,"px")}),(function(e){return e.alone&&"transform: translate(-50%,-50%);top: 50%;left:50%"})),Dn=w.d.p(Re||(Re=Object(Y.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: ",";\n"])),(function(e){return e.theme.zIndex.low})),Ln=function(e,n){var t=n*(1.3+.1*(e.length-2))/e.length,r=(n-t)/(e.length-1),a=-r;return e.map((function(n){return a+=r,Object(E.jsx)(En,{position:a,alone:1===e.length,color:n,size:t},a)}))},Tn=function(e){var n=e.colors,t=e.day,r=e.handleDayChange,a=Object(p.useContext)(D).gridTile.size,o=we(),i=Object(A.a)(o,1)[0];return Object(E.jsx)(zn,{onClick:r,children:-1===t?null:Object(E.jsxs)(E.Fragment,{children:[n&&Ln(n,i>768?2*a:a),Object(E.jsx)(Dn,{"data-testid":"day",children:t})]})})},An=w.d.div(Fe||(Fe=Object(Y.a)(["\n  margin-top: 5rem;\n"]))),Rn=w.d.div(Me||(Me=Object(Y.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n  grid-template-rows: auto;\n  max-width: 100%;\n  border: 1px solid ",";\n  border-top: none;\n  background-color: #fff;\n"])),(function(e){return e.theme.colors.border})),Fn=Object(w.d)(Rn)(Ie||(Ie=Object(Y.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  border-bottom: none;\n  justify-items: center;\n"])),(function(e){return e.theme.colors.calendar.navigation}),(function(e){return e.theme.colors.border})),Mn=w.d.div(Ne||(Ne=Object(Y.a)(["\n  width: ",";\n  padding: ",";\n"])),(function(e){var n=e.theme;return"".concat(n.gridTile.size,"px")}),(function(e){return e.theme.margin.s})),In=function(e){var n=e.days,t=e.month,r=e.year,a=e.moveDate,o=e.handleDayChange;return Object(E.jsxs)(An,{children:[Object(E.jsx)(Gn,{navId:"main",header:"".concat(fe[t]," ").concat(r),moveDate:a}),Object(E.jsx)(Fn,{children:be.map((function(e){return Object(E.jsx)(Mn,{children:e},e)}))}),Object(E.jsx)(Rn,{children:n.map((function(e){var n=e.id,t=e.day,r=e.events,a=e.date;return Object(E.jsx)(Tn,{handleDayChange:function(){return o(a)},colors:r.map((function(e){var n=e.label;return(null===n||void 0===n?void 0:n.color)?n.color:"#dedede"})),day:t},n)}))})]})},Nn=t(160),Vn=t(161),Hn=w.d.div(Ve||(Ve=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: "," 0;\n"])),(function(e){return e.theme.margin.s})),Wn=w.d.button(He||(He=Object(Y.a)(["\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.m})),Pn=w.d.h3(We||(We=Object(Y.a)(["\n  width: 200px;\n  text-align: center;\n  line-height: 100%;\n  margin: 0;\n  @media (min-width: ",") {\n    width: 400px;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.font.sizes.ml})),Gn=function(e){var n=e.header,t=e.moveDate,r=e.navId,a=e.backToCalendar;return Object(E.jsxs)(Hn,{children:[Object(E.jsx)(Wn,{"data-testid":"moveLeft-".concat(r),onClick:function(){return t(Oe.LEFT)},children:Object(E.jsx)(Nn.a,{icon:Vn.a})}),Object(E.jsx)(Pn,{onClick:a,"data-testid":"dateCalendar-".concat(r),children:n}),Object(E.jsx)(Wn,{"data-testid":"moveRight-".concat(r),onClick:function(){return t(Oe.RIGHT)},children:Object(E.jsx)(Nn.a,{icon:Vn.b})})]})},Bn=w.d.div(Pe||(Pe=Object(Y.a)(["\n  background-color: ",";\n  min-width: 275px;\n  min-height: 500px;\n  border: 1px solid ",";\n"])),(function(e){var n=e.theme;return e.active?n.colors.tile.backgroundActive:n.colors.tile.background}),(function(e){return e.theme.colors.border})),Un=w.d.h3(Ge||(Ge=Object(Y.a)(["\n  font-size: ",";\n  margin: "," 0;\n  text-align: center;\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m})),_n=function(e){var n=e.events,t=e.header,r=e.active,a=e.labels,o=e.date,i=Object(A.a)(o,3),c=i[0],s=i[1],u=i[2];return Object(E.jsxs)(Bn,{active:r,children:[Object(E.jsx)(Un,{children:t}),n.map((function(e){var n;return Object(E.jsx)(it,{habbit:e,labels:a,day:o,checked:-1!==(null===e||void 0===e||null===(n=e.checked)||void 0===n?void 0:n.findIndex((function(e){var n=e.day,t=e.month,r=e.year;return n===u&&s===t&&r===c})))},e._id)}))]})},Yn=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var r,a,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"GET"});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.json());case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(re.a)(te.a.mark((function e(n,t,r){var a,o,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(kn.EVENTS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:r?"PUT":"POST",body:JSON.stringify(t)});case 2:if(201!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,a.json();case 7:throw o=e.sent,i=o.message,new Error(i);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Xn=function(){var e=Object(re.a)(te.a.mark((function e(n,t,r){var a,o,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(kn.LABELS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:r?"PUT":"POST",body:JSON.stringify(t)});case 2:if(200!==(a=e.sent).status||!r){e.next=5;break}return e.abrupt("return",a.json());case 5:if(201!==a.status){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,a.json();case 9:throw o=e.sent,i=o.message,new Error(i);case 12:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),qn=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var r,a,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(kn.LABELS).concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$n=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var r,a,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(kn.EVENTS).concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Kn=function(){var e=Object(re.a)(te.a.mark((function e(n,t,r){var a,o,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(kn.EVENTS,"check/").concat(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"PATCH",body:JSON.stringify(r)});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",a.json());case 5:return e.next=7,a.json();case 7:throw o=e.sent,i=o.message,new Error(i);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Qn=w.d.div(Be||(Be=Object(Y.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),Zn=w.d.small(Ue||(Ue=Object(Y.a)(["\n  background-color: ",";\n  padding: ",";\n  width: auto;\n  border-radius: 20px;\n"])),(function(e){return e.color}),(function(e){return e.theme.margin.s})),et=Object(w.c)(_e||(_e=Object(Y.a)(["\n  text-decoration: line-through;\n  color: gray;\n"]))),nt=w.d.div(Ye||(Ye=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 ",";\n  border-left: 1px solid ",";\n  margin: 0 ",";\n  margin-top: ",";\n\n  &:hover {\n    ",";\n  }\n\n  ",";\n"])),(function(e){return e.theme.margin.s}),(function(e){return e.theme.colors.tile.border}),(function(e){return e.theme.margin.s}),(function(e){return e.theme.margin.xs}),(function(){return navigator.onLine&&"cursor: pointer"}),(function(e){return e.checked&&et})),tt=w.d.h2(Je||(Je=Object(Y.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n  margin-top: 0;\n"])),(function(e){return e.theme.font.sizes.ml}),(function(e){return e.theme.margin.xs})),rt=w.d.p(Xe||(Xe=Object(Y.a)(["\n  color: gray;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),at=w.d.p(qe||(qe=Object(Y.a)(["\n  text-align: justify;\n"]))),ot=ge.SUCCESS,it=function(e){var n=e.habbit,t=e.labels,r=e.checked,a=e.day,o=n.title,i=n.timeEnd,c=n.timeStart,s=n.description,u=n.label,d=n._id,l=Object(p.useState)(!1),b=Object(A.a)(l,2),h=b[0],f=b[1],m=Object(p.useRef)(W()),j=N().token,x=U().handleRefHabbit,O=function(){var e=Object(re.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$n(j,d);case 3:m.current.showAlert("Succesfuly deleted habbit.",ot),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(re.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn(j,d,a);case 3:n=e.sent,m.current.showAlert(n.message,ot),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(Qn,{children:[Object(E.jsx)(Ut,{size:"s",mx:"0.75rem",disabled:!navigator.onLine,noMaxWidth:!0,"data-testid":"edit",onClick:function(){return f(!0)},children:"Edit habbit"}),Object(E.jsx)(Ut,{size:"s",close:!0,noMaxWidth:!0,disabled:!navigator.onLine,"data-testid":"delete",onClick:O,children:"X"}),Object(E.jsxs)(nt,{checked:r,onClick:navigator.onLine?function(){return g()}:function(){},children:[u&&Object(E.jsx)(Zn,{color:u.color,children:u.title}),Object(E.jsx)(tt,{children:o}),Object(E.jsx)(rt,{children:"".concat(c,"-").concat(i)}),Object(E.jsx)(at,{children:s})]}),Object(E.jsx)(ht,{open:h,handleClose:function(){return f(!1)},labels:t,event:n})]})},ct=w.d.div($e||($e=Object(Y.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: scroll;\n"]))),st=function(e){var n=e.days,t=e.labels,r=e.dateClicked,a=Object(p.useRef)(null),o=we(),i=Object(A.a)(o,1)[0];return Object(p.useLayoutEffect)((function(){if(n.length>1&&a&&a.current&&a.current.scrollWidth>i){var e,t=a.current.scrollWidth/2-i/2;null===a||void 0===a||null===(e=a.current)||void 0===e||e.scroll(t,0)}}),[r,a]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ct,{ref:a,children:n.map((function(e){var n=e.events,r=e.id,a=e.date,o=new Date;return o.setHours(0,0,0,0),a?Object(E.jsx)(_n,{active:o.getTime()===(null===a||void 0===a?void 0:a.getTime()),header:he[je(a)],events:n,labels:t,date:[a.getFullYear(),a.getMonth(),a.getDate()]},r):null}))})})},ut=t(64),dt=t(23),lt=w.d.div(Ke||(Ke=Object(Y.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),bt=ge.SUCCESS,ht=function(e){var n=e.handleClose,t=e.open,r=e.labels,a=e.event,o=Object(dt.b)(),i=o.register,c=o.handleSubmit,s=o.errors,u=o.control,d=o.reset,l=o.watch,b=Object(p.useRef)(W()),h=N().token,f=U().handleRefHabbit;Object(p.useEffect)((function(){var e={};if(a){var n=a.label,t=a.dateStart,r=a.dateEnd;e=Object(y.a)(Object(y.a)({},a),{},{label:null===n||void 0===n?void 0:n._id,dateStart:new Date(t),dateEnd:new Date(r)}),d(e)}}),[a]);var m=function(){var e=Object(re.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jn(h,t,null===a||void 0===a?void 0:a._id);case 3:b.current.showAlert("Succesfuly ".concat((null===a||void 0===a?void 0:a._id)?"edited":"added"," habbit."),bt),n(),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),j=l("dateStart")?new Date(l("dateStart")):void 0,x=l("dateEnd")?new Date(l("dateEnd")):void 0,O=Object(p.useCallback)((function(e,n){if(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+n),t}}),[]);return Object(E.jsx)(kr,{open:t,handleClose:n,header:"Add habbit",children:Object(E.jsxs)(lt,{as:"form",onSubmit:c(m),noValidate:!0,children:[Object(E.jsx)(Zt,{name:"title",label:"Title",id:"title",refVal:i(Ce("title")),minLength:6,maxLength:30,error:s.title,"data-testid":"title"}),Object(E.jsx)(Zt,{name:"description",label:"Description",id:"description",refVal:i(),error:s.description,"data-testid":"description",type:"textarea"}),Object(E.jsx)(wt,{control:u,error:s.daysOfWeek}),Object(E.jsx)(Er,{control:u,name:"dateStart",header:"Date start",maxDate:O(x,-7),error:s.dateStart}),Object(E.jsx)(Er,{control:u,name:"dateEnd",header:"Date end",minDate:O(j,7),error:s.dateEnd}),Object(E.jsx)(Zt,{name:"timeStart",label:"Time start",id:"timeStart",refVal:i(Ee("00:00",l("timeEnd"))),error:s.timeStart,type:"time","data-testid":"timeStart"}),Object(E.jsx)(Zt,{name:"timeEnd",label:"Time end",id:"timeEnd",refVal:i(Ee(l("timeStart"),"23:59")),error:s.timeStart,type:"time","data-testid":"timeEnd"}),Object(E.jsx)(Lr,{name:"label",label:"Label",control:u,options:null===r||void 0===r?void 0:r.map((function(e){var n=e._id,t=e.title,r=Object(ut.a)(e,["_id","title"]);return Object(y.a)({key:n,value:t},r)}))}),Object(E.jsx)(Ut,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},ft=t(19),mt=w.d.div(Qe||(Qe=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  width: 100%;\n  max-width: 300px;\n"])),(function(e){return e.theme.margin.sm})),jt=w.d.label(Ze||(Ze=Object(Y.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.s})),pt=w.d.input(en||(en=Object(Y.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var n=e.error,t=e.theme;return n&&"1px solid ".concat(t.colors.error.main)})),xt=w.d.textarea(nn||(nn=Object(Y.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var n=e.error,t=e.theme;return n&&"1px solid ".concat(t.colors.error.main)})),Ot=w.d.p(tn||(tn=Object(Y.a)(["\n  margin-top: ",";\n  color: ",";\n  text-align: justify;\n"])),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.colors.error.main})),gt=w.d.div(rn||(rn=Object(Y.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n"]))),vt=w.d.div(an||(an=Object(Y.a)(["\n  background-color: ",";\n  border: 1px solid black;\n  height: 50px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ",";\n"])),(function(e){var n=e.theme;return e.active?n.colors.tile.background:n.colors.common.white}),(function(e){return e.theme.font.sizes.m})),wt=function(e){var n=e.control,t=e.error;return Object(E.jsxs)(mt,{children:[Object(E.jsx)(jt,{children:"Week days"}),Object(E.jsx)(dt.a,{name:"daysOfWeek",control:n,rules:{validate:function(e){var n="Min. 1 week day is required.";return e&&0!==e.length||n}},render:function(e){var n=e.onChange,t=e.value;return Object(E.jsx)(gt,{children:be.map((function(e,r){return Object(E.jsx)(vt,{active:null===t||void 0===t?void 0:t.includes(r),onClick:function(){var e=r;if(t){var a=Object(ft.a)(t);(a=a.filter((function(n){return n!==e}))).length===t.length&&a.push(e),n(a)}else n([e])},children:e},e)}))})}}),t&&Object(E.jsx)(Ot,{children:null===t||void 0===t?void 0:t.message})]})},yt=t(274),kt=ge.SUCCESS,St=function(e){var n=e.handleClose,t=e.open,r=e.label,a=Object(dt.b)({defaultValues:Object(y.a)({color:"#50E3C2"},r)}),o=a.register,i=a.handleSubmit,c=a.errors,s=a.control,u=Object(p.useRef)(W()),d=N().token,l=U().handleRefLabel,b=function(){var e=Object(re.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn(d,t,null===r||void 0===r?void 0:r._id);case 3:u.current.showAlert("Succesfuly ".concat((null===r||void 0===r?void 0:r._id)?"edited":"added"," label."),kt),n(),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsx)(kr,{open:t,handleClose:n,header:"Add label",fullHeight:!!(null===r||void 0===r?void 0:r._id),children:Object(E.jsxs)(lt,{as:"form",onSubmit:i(b),noValidate:!0,children:[Object(E.jsx)(Zt,{name:"title",label:"Title",id:"title",refVal:o(Ce("title")),minLength:6,maxLength:30,error:c.title,"data-testid":"title"}),Object(E.jsx)(dt.a,{name:"color",control:s,render:function(e){var n=e.onChange,t=e.value;return Object(E.jsx)(yt.a,{color:t,onChangeComplete:function(e){return n(e.hex)}})}}),Object(E.jsx)(Ut,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},Ct=ge.SUCCESS,zt=function(e){var n=e.handleClose,t=e.open,r=e.labels,a=N().token,o=Object(p.useRef)(W()),i=U(),c=i.handleRefHabbit,s=i.handleRefLabel,u=function(){var e=Object(re.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qn(a,n);case 3:o.current.showAlert("Succesfuly deleted label.",Ct),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsx)(kr,{open:t,handleClose:n,header:"Label list",children:Object(E.jsx)(E.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(Tt,{label:e,handleDelete:u},e._id)}))})})},Et=function(e){var n=e.days,t=e.actualMonth,r=e.moveDate,a=e.actualYear,o=e.handleChangeView,i=e.labels,c=Object(p.useState)(!1),s=Object(A.a)(c,2),u=s[0],d=s[1],l=Object(p.useState)(!1),b=Object(A.a)(l,2),h=b[0],f=b[1],m=Object(p.useState)(!1),j=Object(A.a)(m,2),x=j[0],O=j[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(In,{days:n,month:t,moveDate:r,year:a,handleDayChange:o}),Object(E.jsxs)(Cn,{children:[Object(E.jsx)(Ut,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"addh",disabled:!navigator.onLine,onClick:function(){return d(!0)},children:"Add habbit"}),Object(E.jsx)(Ut,{size:"s",noMaxWidth:!0,mt:"16px",disabled:!navigator.onLine,mx:"16px","data-testid":"addl",onClick:function(){return f(!0)},children:"Add label"}),Object(E.jsx)(Ut,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"labell",onClick:function(){return O(!0)},children:"Label list"})]}),Object(E.jsx)(ht,{open:u,handleClose:function(){return d(!1)},labels:i}),Object(E.jsx)(St,{open:h,handleClose:function(){return f(!1)}}),Object(E.jsx)(zt,{open:x,handleClose:function(){return O(!1)},labels:i})]})},Dt=w.d.div(on||(on=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: ",";\n  padding-top: 0;\n"])),(function(e){return e.theme.margin.s})),Lt=w.d.div(cn||(cn=Object(Y.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),Tt=function(e){var n=e.label,t=e.handleDelete,r=n._id,a=n.color,o=n.title,i=Object(p.useState)(!1),c=Object(A.a)(i,2),s=c[0],u=c[1];return Object(E.jsxs)(Dt,{children:[Object(E.jsxs)(Lt,{children:[Object(E.jsx)(Ut,{size:"s",mr:"0.75rem",disabled:!navigator.onLine,noMaxWidth:!0,"data-testid":"edit",onClick:function(){return u(!0)},children:"Edit label"}),Object(E.jsx)(Ut,{size:"s",disabled:!navigator.onLine,close:!0,noMaxWidth:!0,"data-testid":"delete",onClick:function(){return t(r)},children:"X"})]}),Object(E.jsx)(Zn,{color:a,children:o}),Object(E.jsx)(St,{handleClose:function(){return u(!1)},open:s,label:n})]},r)},At=function(){var e=Object(p.useState)(new Date),n=Object(A.a)(e,2),t=n[0],r=n[1],a=Object(p.useState)(new Date),o=Object(A.a)(a,2),i=o[0],c=o[1],s=Object(p.useMemo)((function(){var e=t.getMonth(),n=t.getFullYear(),r=new Date(n,e,1);r.setDate(r.getDate()-7);var a=33-new Date(n,e,32).getDate(),o=new Date(n,e,a),i=new Date(n,e,a),c=new Date(n,e,1);return o.setDate(o.getDate()+6),[r,o,c,i]}),[t]),u=Object(A.a)(s,4),d=u[0],l=u[1],b=u[2],h=u[3],f=N().token,m=U(),j=m.refHabbit,x=m.refLabel,O=Object(p.useMemo)((function(){return"".concat(kn.EVENTS,"?from=").concat(me(b),"&to=").concat(me(h))}),[b,h]),g=ve([b,h,f,j,x],(function(){return Yn(O,f)}),O),v=Object(A.a)(g,3),w=v[0],y=v[1],k=v[2],S=ve([f,x],(function(){return Yn(kn.LABELS,f)}),kn.LABELS),C=Object(A.a)(S,3),z=C[0],D=C[1],L=C[2],T=xe(w,d,l,b,h),R=Object(A.a)(T,1)[0],F=function(e){var n=new Date(e.getTime());n.setDate(e.getDate()-3),n.setHours(0,0,0,0);var t=new Date(e);return t.setDate(e.getDate()+3),t.setHours(0,0,0,0),[n,t]}(i),M=Object(A.a)(F,2),I=M[0],V=M[1];return Object(E.jsxs)(Sn,{children:[Object(E.jsx)(Et,{moveDate:function(e){e===Oe.LEFT?(r((function(e){var n=new Date(e.getTime());return new Date(n.setMonth(n.getMonth()-1))})),c((function(e){var n=new Date(e.getTime());return new Date(n.setMonth(n.getMonth()-1))}))):(r((function(e){var n=new Date(e.getTime());return new Date(n.setMonth(n.getMonth()+1))})),c((function(e){var n=new Date(e.getTime());return new Date(n.setMonth(n.getMonth()+1))})))},days:R.filter((function(e){return e.active})),actualMonth:t.getMonth(),actualYear:t.getFullYear(),handleChangeView:function(e){e&&c(e)},labels:z}),Object(E.jsx)(xr,{loading:y||D,error:k||L}),Object(E.jsx)("h2",{children:"".concat(pe(I)," - ").concat(pe(V))}),Object(E.jsx)(st,{days:R.filter((function(e){var n=e.date;return n&&n>=I&&n<=V})),labels:z,dateClicked:i})]})},Rt=Object(w.d)(oe)(sn||(sn=Object(Y.a)(["\n  height: 100vh;\n  width: 100%;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),Ft=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(kn.LOGIN,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.next=7,t.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(p.useState)(""),n=Object(A.a)(e,2),t=n[0],r=n[1],a=Object(p.useState)(!1),o=Object(A.a)(a,2),i=o[0],c=o[1],s=N(),u=Object(dt.b)(),d=u.register,l=u.handleSubmit,b=u.errors,h=Object(ye.g)(),f=function(){var e=Object(re.a)(te.a.mark((function e(n){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,Ft(n);case 4:t=e.sent,c(!1),s.login(t.token),h.push(ae.CALENDAR),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),r(e.t0.message),c(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return s.token?Object(E.jsx)(ye.a,{to:ae.CALENDAR}):Object(E.jsx)(Qt,{children:Object(E.jsxs)(Rt,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(E.jsx)(Zt,{name:"login",label:"Login",id:"login",refVal:d(Ce("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(E.jsx)(Zt,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ce("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(E.jsx)(xr,{error:t,loading:i}),Object(E.jsx)(Ut,{size:"m",mt:"16px",type:"submit","data-testid":"submit",children:"Log in"})]})})},It=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(kn.REGISTER,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.next=7,t.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Nt=ae.DASHBOARD,Vt=ae.CALENDAR,Ht=ae.LOGIN,Wt=ae.REGISTER,Pt=[{link:Nt,name:"Home page"},{link:Vt,name:"Your tracker"},{link:Ht,name:"Login"},{link:Wt,name:"Register"}],Gt=[{path:Nt,Component:le,exact:!0},{path:Vt,Component:At,isPrivate:!0},{path:Ht,Component:Mt},{path:Wt,Component:function(){var e=Object(p.useState)(""),n=Object(A.a)(e,2),t=n[0],r=n[1],a=Object(p.useState)(!1),o=Object(A.a)(a,2),i=o[0],c=o[1],s=N(),u=Object(dt.b)(),d=u.register,l=u.handleSubmit,b=u.errors,h=Object(ye.g)(),f=function(){var e=Object(re.a)(te.a.mark((function e(n){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.password!==n.passwordRepeat){e.next=17;break}return c(!0),e.prev=2,e.next=5,It(n);case 5:t=e.sent,c(!1),s.login(t.token),h.push(ae.CALENDAR),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r(e.t0.message),c(!1);case 15:e.next=18;break;case 17:r("Passwords must be equal.");case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return s.token?Object(E.jsx)(ye.a,{to:ae.CALENDAR}):Object(E.jsx)(Qt,{children:Object(E.jsxs)(Rt,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(E.jsx)("h2",{children:"Create new account"}),Object(E.jsx)(Zt,{name:"login",label:"Login",id:"login",refVal:d(Ce("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(E.jsx)(Zt,{name:"email",label:"Email",id:"email",type:"email",refVal:d(Object(y.a)(Object(y.a)({},ke("email")),Se)),error:b.email,"data-testid":"email"}),Object(E.jsx)(Zt,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ce("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(E.jsx)(Zt,{name:"passwordRepeat",label:"Repeat password",id:"passwordRepeat",type:"password",refVal:d(Ce("repeat password")),autoComplete:"on",minLength:6,maxLength:30,error:b.passwordRepeat,"data-testid":"passwordRepeat"}),Object(E.jsx)(xr,{error:t,loading:i}),Object(E.jsx)(Ut,{size:"m",type:"submit","data-testid":"submit",children:"Create account"})]})})}}],Bt=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(kn.LOGOUT,{headers:{"Content-Type":"application/json",Authorization:"".concat(n)},method:"POST"});case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.next=7,t.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ut=w.d.button(un||(un=Object(Y.a)(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ",";\n  font-size: ",";\n  min-width: ",";\n  display: inline-block;\n  text-align: center;\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  &:hover {\n    cursor: pointer;\n  }\n  &:disabled {\n    filter: grayscale(1);\n  }\n"])),(function(e){var n=e.theme;return e.close?n.colors.common.black:n.colors.button.text}),(function(e){var n=e.theme;return e.close?n.colors.error.main:n.colors.button.background}),(function(e){return e.theme.colors.border}),(function(e){var n=e.theme,t=e.size;return t?n.margin[t]:n.margin.s}),(function(e){var n=e.theme,t=e.size;return t?n.font.sizes[t]:n.font.sizes.s}),(function(e){return e.noMaxWidth?"none":"150px"}),(function(e){return e.mt||0}),(function(e){return e.mx||0}),(function(e){var n=e.mx;return e.mr||n||0})),_t=w.d.nav(dn||(dn=Object(Y.a)(["\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  background-color: ",";\n  z-index: ",";\n"])),(function(e){var n=e.open;return"scale(".concat(n?"1":"0",")")}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return"opacity ".concat(n.time.medium,"ms")}),(function(e){return e.theme.colors.nav.background}),(function(e){return e.theme.zIndex.medium})),Yt=Object(w.d)(Ut)(ln||(ln=Object(Y.a)(["\n  position: absolute;\n  bottom: ",";\n  right: ",";\n"])),(function(e){return e.theme.margin.m}),(function(e){return e.theme.margin.m})),Jt=w.d.div(bn||(bn=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Xt=Object(w.d)(v.b)(hn||(hn=Object(Y.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: ",";\n  margin-bottom: ",";\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.colors.text.nav}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m}),(function(e){var n=e.open;return"scale(".concat(n?"1":"2",") translateY(").concat(n?"0px":"-50px",")")}),(function(e){return e.open?"1":"0"}),(function(e){var n=e.theme;return e.open?"".concat(n.time.medium,"ms"):"0"})),qt=ge.SUCCESS,$t=function(e){var n=e.open,t=e.handleClose,r=N(),a=r.token,o=r.logout,i=Object(p.useRef)(W()),c=function(){var e=Object(re.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt(a);case 3:i.current.showAlert("Successfully logged out",qt),o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(_t,{open:n,children:[Object(E.jsx)(Jt,{children:Pt.map((function(e){var r=e.name,a=e.link;return Object(E.jsx)(Xt,{open:n,to:a,onClick:function(){return t()},children:r},r)}))}),a&&Object(E.jsx)(Yt,{size:"s",disabled:!navigator.onLine,mx:"0.75rem","data-testid":"edit",onClick:c,children:"Logout"})]})},Kt=function(){var e=Object(p.useState)(!1),n=Object(A.a)(e,2),t=n[0],r=n[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(J,{open:t,"data-testid":"navButton",onClick:function(){return r((function(e){return!e}))},children:[Object(E.jsx)(q,{open:t}),Object(E.jsx)($,{open:t}),Object(E.jsx)(K,{open:t}),Object(E.jsx)(Q,{open:t}),Object(E.jsx)(Z,{open:t}),Object(E.jsx)(ee,{open:t})]}),Object(E.jsx)($t,{open:t,handleClose:function(){return r(!1)}})]})},Qt=(w.d.header(fn||(fn=Object(Y.a)(["\n  position: fixed;\n  top: ",";\n  width: 100%;\n  text-align: center;\n  height: ",";\n  line-height: ",";\n  z-index: ",";\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.zIndex.max}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.xs})),Object(w.d)(v.b)(mn||(mn=Object(Y.a)(["\n  color: ",";\n  text-decoration: none;\n"])),(function(e){return e.theme.colors.common.black})),w.d.main(jn||(jn=Object(Y.a)(["\n  min-height: 100vh;\n  width: 100%;\n"])))),Zt=function(e){var n=e.label,t=e.id,r=e.refVal,a=e.error,o=e.type,i=void 0===o?"text":o,c=Object(ut.a)(e,["label","id","refVal","error","type"]);return Object(E.jsxs)(mt,{children:[Object(E.jsx)(jt,{htmlFor:t,children:n}),"textarea"===i?Object(E.jsx)(xt,Object(y.a)(Object(y.a)({error:!!a,id:t},c),{},{ref:r})):Object(E.jsx)(pt,Object(y.a)(Object(y.a)({error:!!a,id:t,type:i},c),{},{ref:r})),a&&Object(E.jsx)(Ot,{children:null===a||void 0===a?void 0:a.message})]})};!function(e){e.ERROR="error",e.LOADING="loading"}(pn||(pn={}));var er,nr,tr,rr,ar,or,ir,cr,sr,ur,dr,lr,br,hr,fr,mr=w.d.div(xn||(xn=Object(Y.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n"])),(function(e){return e.theme.margin.s})),jr=w.d.div(On||(On=Object(Y.a)(["\n  border: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n"])),(function(e){var n=e.type,t=e.theme;return"1px solid ".concat(t.colors[n].border)}),(function(e){var n=e.type,t=e.theme;return"".concat(t.colors[n].main)}),(function(e){var n=e.type,t=e.theme;return"".concat(t.colors[n].text)}),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.font.sizes.s})),pr=function(e){var n=e.children,t=void 0===n?"\u0141adowanie...":n,r=e.type,a=void 0===r?pn.ERROR:r;return Object(E.jsx)(mr,{children:Object(E.jsx)(jr,{"data-testid":"alert",type:a,children:t})})},xr=function(e){var n=e.error,t=e.loading,r=Object(ut.a)(e,["error","loading"]);return n?Object(E.jsx)(pr,Object(y.a)(Object(y.a)({},r),{},{children:n})):t?Object(E.jsx)(pr,Object(y.a)(Object(y.a)({},r),{},{type:pn.LOADING})):null},Or=w.d.div(er||(er=Object(Y.a)(["\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: ",";\n  background-color: rgba(0, 0, 0, 0.3);\n"])),(function(e){return e.theme.zIndex.max})),gr=w.d.div(nr||(nr=Object(Y.a)(["\n  position: fixed;\n  width: ",";\n  height: ",";\n  top: ",";\n  left: 50%;\n  transform: translateX(-50%);\n  padding: "," 0;\n  background-color: ",";\n  border: 1px solid ",";\n  z-index: ",";\n  max-width: 350px;\n  overflow: scroll;\n"])),(function(e){var n=e.theme;return e.fullHeight?"100%":"calc(100% - ".concat(n.margin.sm," - ").concat(n.margin.sm,")")}),(function(e){var n=e.theme;return"calc(90vh - ".concat(n.margin.sm," -  ").concat(n.margin.sm,")")}),(function(e){var n=e.theme;return e.fullHeight?"0":n.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.colors.modalBackground}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.zIndex.max})),vr=w.d.h2(tr||(tr=Object(Y.a)(["\n  width: 100%;\n  text-align: center;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.ml})),wr=w.d.button(rr||(rr=Object(Y.a)(["\n  width: 50px;\n  height: 50px;\n  position: relative;\n  display: block;\n  margin-left: auto;\n  margin-right: 0;\n  border: none;\n  background-color: transparent;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),yr=w.d.div(ar||(ar=Object(Y.a)(["\n  height: 100%;\n  width: 2px;\n  position: absolute;\n  top: 0%;\n  left: 50%;\n  background-color: ",";\n  transform: ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){var n=e.rotate;return"rotate(".concat(n,"deg)")})),kr=function(e){var n=e.open,t=e.handleClose,r=e.header,a=e.children,o=e.fullHeight;return n?Object(E.jsxs)(E.Fragment,{children:[!o&&Object(E.jsx)(Or,{onClick:t}),Object(E.jsxs)(gr,{fullHeight:o,children:[Object(E.jsxs)(wr,{type:"button",onClick:t,children:[Object(E.jsx)(yr,{rotate:45}),Object(E.jsx)(yr,{rotate:-45})]}),Object(E.jsx)(vr,{children:r}),a]})]}):null},Sr=t(271),Cr=t.n(Sr),zr=(t(685),w.d.div(or||(or=Object(Y.a)(["\n  width: 100%;\n  max-width: 300px;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.sm}))),Er=(t(686),function(e){var n=e.control,t=e.name,r=e.header,a=e.maxDate,o=e.minDate,i=e.error;return Object(E.jsxs)(zr,{children:[Object(E.jsx)(jt,{children:r}),Object(E.jsx)(dt.a,{name:t,control:n,rules:{required:"Date is required."},render:function(e){var n=e.onChange,t=e.value;return Object(E.jsx)(Cr.a,{maxDate:a,minDate:o,selected:t,onChange:n})}}),i&&Object(E.jsx)(Ot,{children:null===i||void 0===i?void 0:i.message})]})}),Dr=w.d.select(ir||(ir=Object(Y.a)(["\n  width: 100%;\n  max-width: 300px;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.sm})),Lr=function(e){var n=e.options,t=e.control,r=e.name,a=e.label;return Object(E.jsxs)(mt,{children:[Object(E.jsx)(jt,{children:a}),Object(E.jsx)(dt.a,{name:r,control:t,render:function(e){var t=e.onChange,r=e.value;return Object(E.jsxs)(Dr,{value:r,onChange:t,children:[Object(E.jsx)("option",{value:"",children:"----Brak labelu----"},"1"),n.map((function(e){var n=e.key,t=e.value;return Object(E.jsx)("option",{value:n,children:t},n)}))]})}})]})},Tr=ge.ERROR,Ar=ge.SUCCESS,Rr=Object(w.e)(cr||(cr=Object(Y.a)(["\n  0% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n\n  12% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  88% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n"]))),Fr=Object(w.e)(sr||(sr=Object(Y.a)(["\n  0% {\n    transform: translateX(-50%) scale(0);\n  }\n  1% {\n    transform: translateX(-50%) scale(1);\n  }\n  99% {\n    transform: translateX(-50%) scale(1);\n  }\n  100% {\n    transform: translateX(-50%) scale(0);\n  }\n"]))),Mr=Object(w.c)(ur||(ur=Object(Y.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){return e.theme.colors.error.text}),(function(e){return e.theme.colors.error.border})),Ir=Object(w.c)(dr||(dr=Object(Y.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.success.main}),(function(e){return e.theme.colors.success.text}),(function(e){return e.theme.colors.success.border})),Nr=w.d.div(lr||(lr=Object(Y.a)(["\n  transition: 0.15s linear;\n  opacity: 1;\n  animation: "," 6s forwards;\n  width: 100%;\n  max-width: 300px;\n  padding: ",";\n  text-align: justify;\n  ",";\n"])),Rr,(function(e){return e.theme.margin.s}),(function(e){switch(e.type){case Tr:return Mr;case Ar:return Ir;default:return Mr}})),Vr=w.d.div(br||(br=Object(Y.a)(["\n  position: fixed;\n  top: 1rem;\n  left: 50%;\n  z-index: 1100;\n  padding: 0 0.5rem;\n  transform: translateX(-50%);\n  animation: "," 6s forwards;\n"])),Fr),Hr=function(e){var n=e.message,t=e.variant,r=e.handleClose;return Object(E.jsx)(Vr,{children:Object(E.jsx)(Nr,{type:t,onClick:function(){return r(!1)},children:n})})},Wr=function(){var e=W();return e.open?Object(E.jsx)(Hr,{message:e.message,handleClose:e.changeVisibility,variant:e.variant}):null},Pr=w.d.div(hr||(hr=Object(Y.a)(["\n  position: fixed;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 9999;\n"]))),Gr=function(){var e=Object(p.useState)(!0),n=Object(A.a)(e,2),t=n[0],r=n[1];return!navigator.onLine&&t?Object(E.jsx)(Pr,{onClick:function(){return r(!1)},children:Object(E.jsx)(pr,{type:pn.LOADING,children:"No internet connnection. Data is loaded from cache."})}):null},Br=Object(w.b)(fr||(fr=Object(Y.a)(["\n    body{\n        color: ",";\n        background-color: ",";\n        font-family: 'Roboto', sans-serif;\n        overflow-x: hidden;\n    }\n    * {\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.body})),Ur=function(){return Object(E.jsx)(T,{children:Object(E.jsx)(_,{children:Object(E.jsx)(P,{children:Object(E.jsxs)(V,{children:[Object(E.jsx)(Br,{}),Object(E.jsxs)(v.a,{basename:"/habbit-tracker",children:[Object(E.jsx)(Gr,{}),Object(E.jsx)(Wr,{}),Object(E.jsx)(Kt,{}),Object(E.jsx)(Yr,{})]})]})})})})},_r=function(e){var n=Object.assign({},e);return N().token?Object(E.jsx)(ye.b,Object(y.a)({},n)):Object(E.jsx)(ye.a,{to:ae.LOGIN})},Yr=function(){return Object(E.jsx)(ye.d,{children:Gt.map((function(e){var n=e.path,t=e.Component;return e.isPrivate?Object(E.jsx)(_r,{path:n,children:Object(E.jsx)(t,{})},n):Object(E.jsx)(ye.b,{path:n,exact:!0,children:Object(E.jsx)(t,{})},n)}))})},Jr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xr(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var qr=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,773)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),o(e),i(e)}))};g.a.render(Object(E.jsx)(x.a.StrictMode,{children:Object(E.jsx)(Ur,{})}),document.getElementById("root")),qr(),function(e){if("serviceWorker"in navigator){if(new URL("/habbit-tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/habbit-tracker","/service-worker.js");Jr?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xr(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Xr(n,e)}))}}()}},[[770,1,2]]]);
//# sourceMappingURL=main.abe67ebc.chunk.js.map