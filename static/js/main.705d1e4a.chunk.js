(this["webpackJsonphabbit-tracker"]=this["webpackJsonphabbit-tracker"]||[]).push([[0],{279:function(e,t,n){},686:function(e,t,n){},770:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,s,u,d,l,b,m,f,h,j,x,p,O=n(0),g=n.n(O),v=n(30),w=n.n(v),y=(n(279),n(25)),k=n(4),S=n(12),z={base:"10px",family:"Arial",light:300,regular:400,medium:500,bold:700,sizes:{xs:"0.75rem",s:"1rem",sm:"1.25rem",m:"1.5rem",ml:"2rem",l:"3rem"}},C={colors:{common:{black:"#000000",white:"#FFFFFF"}},font:z,margin:{xs:"0.5rem",s:"0.75rem",sm:"1rem",m:"1.25rem",ml:"1.5rem",l:"1.75rem"},time:{short:100,medium:300,long:500},zIndex:{max:1e3,medium:500,low:100},chooseFS:function(e){var t=z.sizes,n=Object.keys(t).find((function(t){return t===e}));return void 0!==n?t[n]:t.xs},sizes:{nav:"50px",dot:"20px"},media:{phone:{s:"320px"},tablet:{s:"768px",l:"1024px"},desktop:{s:"1366px",l:"1920px"}}},E="#AFE9FF",D=Object(S.a)(Object(S.a)({},C),{},{gridTile:{size:50},colors:Object(S.a)(Object(S.a)({},C.colors),{},{body:"#F3FFF2",calendar:{navigation:"#EDEFFF"},text:{primary:C.colors.common.black,secondary:"#808080",nav:"#A5A5A5"},button:{background:"#FFC136",text:"#fff"},nav:{topLeft:"#B7FF96",topRight:"#89FFED",bottomLeft:"#FDF194",bottomRight:"#FFADFC",background:"#A4FF9D",button:"#FFED67"},tile:{background:"#FFFCAF",backgroundActive:E,border:"#77CBFF"},modalBackground:E,error:{main:"#FF9191",border:"#730000",text:"#730000"},success:{main:"#d9ffd9",border:"#10b9b0",text:"#5cb85c"},loading:{main:"#a6fff9",border:"#1b968e",text:"#1b968e"},border:"#707070"})}),L=n(1),T=Object(O.createContext)(D),F=T.Provider,R=function(e){var t=e.children;return Object(L.jsx)(F,{value:D,children:Object(L.jsx)(k.a,{theme:D,children:t})})},A=n(8),I=new(n(275).a),V=Object(O.createContext)({token:void 0,login:function(){},logout:function(){}}),H=V.Provider,M=function(){var e=new Date;return e.setDate(e.getDate()+14),e},N=function(){return Object(O.useContext)(V)},G=function(e){var t=e.children,n=Object(O.useState)(I.get("token")),r=Object(A.a)(n,2),a=r[0],o=r[1],c={token:a,login:function(e){I.set("token",e,{path:"/",expires:M()}),o(e)},logout:function(){I.remove("token",{path:"/"}),o(void 0)}};return Object(L.jsx)(H,{value:c,children:t})},P=Object(O.createContext)({open:!1,message:"",setOpen:function(){},changeVisibility:function(){},changeMessage:function(){},showAlert:function(e,t){console.log(e,t)}}),W=function(){return Object(O.useContext)(P)},_=function(e){var t=Object(O.useState)(!1),n=Object(A.a)(t,2),r=n[0],a=n[1],o=Object(O.useState)(""),c=Object(A.a)(o,2),i=c[0],s=c[1],u=Object(O.useState)(0),d=Object(A.a)(u,2),l=d[0],b=d[1],m={open:r,message:i,variant:l,changeVisibility:function(e){return a(e)},changeMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";a(!1),s(e),b(t)},showAlert:function(e,t){m.changeMessage(e,t),m.changeVisibility(!0)}};return Object(L.jsx)(P.Provider,Object(S.a)({value:m},e))},B=Object(O.createContext)({refHabbit:!1,refLabel:!1,handleRefHabbit:function(){},handleRefLabel:function(){}}),Y=B.Provider,J=function(){return Object(O.useContext)(B)},U=function(e){var t=e.children,n=Object(O.useState)(!1),r=Object(A.a)(n,2),a=r[0],o=r[1],c=Object(O.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1],d={refHabbit:a,refLabel:s,handleRefHabbit:function(){return o((function(e){return!e}))},handleRefLabel:function(){return u((function(e){return!e}))}};return Object(L.jsx)(Y,{value:d,children:t})},X=n(5),q=k.d.button(r||(r=Object(X.a)(["\n  position: fixed;\n  height: ",";\n  width: ",";\n  top: ",";\n  background-color: transparent;\n  border: none;\n  right: ",";\n  padding: 0;\n  ","\n  transition: ",";\n  z-index: ",";\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.open&&"transform: rotate(-45deg);"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")}),(function(e){return e.theme.zIndex.max})),$=k.d.div(a||(a=Object(X.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  position: absolute;\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.dot}),(function(e){return e.theme.sizes.dot}),(function(e){return e.open?"0":"1"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")})),K=Object(k.d)($)(o||(o=Object(X.a)(["\n  background-color: ",";\n  top: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.topLeft})),Q=Object(k.d)($)(c||(c=Object(X.a)(["\n  background-color: ",";\n  top: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.topRight})),Z=Object(k.d)($)(i||(i=Object(X.a)(["\n  background-color: ",";\n  bottom: 0;\n  left: 0;\n"])),(function(e){return e.theme.colors.nav.bottomLeft})),ee=Object(k.d)($)(s||(s=Object(X.a)(["\n  background-color: ",";\n  bottom: 0;\n  right: 0;\n"])),(function(e){return e.theme.colors.nav.bottomRight})),te=k.d.div(u||(u=Object(X.a)(["\n  position: absolute;\n  height: 3px;\n  width: ",";\n  background-color: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.colors.error.main}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return"".concat(t.time.medium,"ms")})),ne=Object(k.d)(te)(d||(d=Object(X.a)(["\n  transform: rotate(90deg);\n  top: 50%;\n"]))),re={DASHBOARD:"/",CALENDAR:"/calendar",LOGIN:"/login",REGISTER:"/register"},ae=k.d.section(l||(l=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),oe=Object(k.d)(ae)(b||(b=Object(X.a)(["\n  height: 100vh;\n  width: 100%;\n  padding: 0 1rem;\n  @media (min-width: ",") {\n    flex-direction: row;\n    justify-content: space-between;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),ce=Object(k.d)(ae)(m||(m=Object(X.a)(["\n  @media (min-width: ",") {\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.margin.l})),ie=k.d.h2(f||(f=Object(X.a)(["\n  font-size: ",";\n  margin: "," 0;\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.font.sizes.l}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.ml})),se=k.d.p(h||(h=Object(X.a)(["\n  color: ",";\n  text-align: justify;\n  font-size: ",";\n  margin-bottom: ",";\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.l}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.sm})),ue=k.d.p(j||(j=Object(X.a)(["\n  font-size: ",";\n  margin: ",";\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){return e.theme.margin.s})),de=function(){return Object(L.jsx)(tr,{children:Object(L.jsxs)(oe,{children:[Object(L.jsxs)(ce,{children:[Object(L.jsx)(ie,{children:"Habbit tracker"}),Object(L.jsx)(se,{children:"Track your progress in very simple and personalized app"})]}),Object(L.jsxs)(ae,{children:[Object(L.jsx)(Kn,{as:y.b,to:re.REGISTER,size:"m",children:"Create account for free"}),Object(L.jsx)(ue,{children:"or"}),Object(L.jsx)(Kn,{as:y.b,to:re.LOGIN,size:"m",children:"Log in"})]})]})})},le=n(16);!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(x||(x={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(p||(p={}));var be=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fe=["January","February","March","April","May","Juny","Juni","August","September","October","November","December"],he=function(e){var t=new Date(e),n=new Date(t.getFullYear(),0,0),r=t-n+60*(n.getTimezoneOffset()-t.getTimezoneOffset())*1e3;return Math.floor(r/864e5)},je=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},xe=function(e){var t=e.getDay();return 0===t&&(t=7),t-=1},pe=function(e){var t=Object(A.a)(e,3),n=t[0],r=t[1],a=t[2];return"".concat(n,"-").concat(r<9?"0".concat(r+1):r+1,"-").concat(a<10?"0".concat(a):a)},Oe=function(e){return pe(e).split("-").reverse().join(".")},ge=function(e){var t=pe(e),n=new Date(t),r=new Date(n.getFullYear(),0,0),a=n.getTime()-r.getTime()+60*(r.getTimezoneOffset()-n.getTimezoneOffset())*1e3;return Math.floor(a/864e5)};var ve=function(e,t,n,r){var a=Object(O.useState)([]),o=Object(A.a)(a,2),c=o[0],i=o[1],s=Object(A.a)(t,3),u=s[0],d=s[1],l=s[2];return Object(O.useEffect)((function(){var a=xe(new Date(u,d,l)),o=ge(n),c=ge(t),s=a,b=[];b=e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{numericStart:he(e.dateStart),numericEnd:he(e.dateEnd)})}));for(var m=[],f=[],h=he("".concat(u,"-").concat(d+1,"-").concat(l)),j=o+1-c,x=0;x<Math.ceil(j/7);x++)for(var p=0;p<7;p++){m=m.filter((function(e){return e.numericStart>=c&&e.numericEnd<o&&e.daysOfWeek.includes(s)}));var O=l+7*x+p;if(o<c)break;b=b.filter((function(e){return e.numericStart<=c&&e.numericStart<=o&&c<=e.numericEnd&&!m.includes(e)&&e.daysOfWeek.includes(s)&&m.push(e),h<=e.numericEnd})),f.push({id:13*x+17*p,day:O,events:m}),h+=1,s++,c++,s>=7&&(s=0)}if(r)for(var g=0;g<6;g++)g<a&&f.unshift({id:167*g+1,day:-1,events:[]});i(f)}),[e]),[c]},we=n(9),ye=n.n(we),ke=n(13);var Se,ze,Ce,Ee,De,Le,Te,Fe,Re,Ae,Ie,Ve,He,Me,Ne,Ge,Pe,We,_e,Be,Ye,Je,Ue,Xe,qe,$e,Ke,Qe,Ze,et,tt,nt,rt,at,ot,ct,it,st,ut,dt,lt,bt,mt,ft=function(e,t){var n=Object(O.useState)(""),r=Object(A.a)(n,2),a=r[0],o=r[1],c=Object(O.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1],d=Object(O.useState)([]),l=Object(A.a)(d,2),b=l[0],m=l[1];return Object(O.useEffect)((function(){(function(){var e=Object(ke.a)(ye.a.mark((function e(){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,t();case 4:n=e.sent,m(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o(e.t0.message);case 11:u(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),e),[b,s,a]},ht=function(){var e=Object(O.useState)([0,0]),t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(O.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},jt=(n(263),n(264),n(82),n(26),n(19)),xt=function(e){return{required:"Field ".concat(e," is required.")}},pt={pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Incorrect characters."}},Ot=function(e){return Object(S.a)(Object(S.a)({},xt(e)),{},{minLength:{value:6,message:"Field ".concat(e," must have at least 6 characters.")},maxLength:{value:30,message:"Field ".concat(e," must have maximum 30 characters.")}})},gt=function(e,t){var n="Your time is not in boundaries.";if(e&&t){var r=t.split(":"),a=Object(A.a)(r,2),o=a[0],c=a[1],i=e.split(":"),s=Object(A.a)(i,2),u=s[0],d=s[1];return u<o||(u===o&&d<c||n)}return n},vt=function(e,t){return{validate:{min:function(t){return gt(e,t)},max:function(e){return gt(e,t)}}}},wt=k.d.div(Se||(Se=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  max-width: 100%;\n  @media (min-width: ",") {\n    justify-content: flex-start;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),yt=k.d.div(ze||(ze=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),kt=k.d.button(Ce||(Ce=Object(X.a)(["\n  border: none;\n  width: ",";\n  height: ",";\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    height: ",";\n  }\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){return e.theme.colors.common.white}),(function(e){return e.theme.media.tablet.s}),(function(e){var t=e.theme;return"".concat(2*t.gridTile.size,"px")}),(function(e){var t=e.theme;return"".concat(2*t.gridTile.size,"px")})),St=k.d.div(Ee||(Ee=Object(X.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background-color: ",";\n  top: ",";\n  left: ",";\n  ","\n"])),(function(e){var t=e.size,n=e.alone;return"".concat(n?t/1.3:t,"px")}),(function(e){var t=e.size,n=e.alone;return"".concat(n?t/1.3:t,"px")}),(function(e){return e.color}),(function(e){var t=e.position;return"".concat(t,"px")}),(function(e){var t=e.position;return"".concat(t,"px")}),(function(e){return e.alone&&"transform: translate(-50%,-50%);top: 50%;left:50%"})),zt=k.d.p(De||(De=Object(X.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: ",";\n"])),(function(e){return e.theme.zIndex.low})),Ct=function(e,t){var n=t*(1.3+.1*(e.length-2))/e.length,r=(t-n)/(e.length-1),a=-r;return e.map((function(t){a+=r;var o=t;return 0===Object.keys(o).length&&(o={color:"#dbdbdb",id:"empty_color"}),Object(L.jsx)(St,{position:a,alone:1===e.length,color:o.color,size:n},t.id)}))},Et=function(e){var t=e.colors,n=e.day,r=e.handleDayChange,a=Object(O.useContext)(T).gridTile.size,o=ht(),c=Object(A.a)(o,1)[0];return Object(L.jsx)(kt,{onClick:r,children:-1===n?null:Object(L.jsxs)(L.Fragment,{children:[t&&Ct(t,c>768?2*a:a),Object(L.jsx)(zt,{"data-testid":"day",children:n})]})})},Dt=k.d.div(Le||(Le=Object(X.a)(["\n  @media (min-width: ",") {\n    margin-top: 5rem;\n  }\n"])),(function(e){return e.theme.media.tablet.s})),Lt=k.d.div(Te||(Te=Object(X.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n  grid-template-rows: auto;\n  max-width: 100%;\n  border: 1px solid ",";\n  border-top: none;\n  background-color: #fff;\n"])),(function(e){return e.theme.colors.border})),Tt=Object(k.d)(Lt)(Fe||(Fe=Object(X.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  border-bottom: none;\n  justify-items: center;\n"])),(function(e){return e.theme.colors.calendar.navigation}),(function(e){return e.theme.colors.border})),Ft=k.d.div(Re||(Re=Object(X.a)(["\n  width: ",";\n  padding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.gridTile.size,"px")}),(function(e){return e.theme.margin.s})),Rt=function(e){var t=e.events,n=e.month,r=e.year,a=e.moveDate,o=e.handleDayChange,c=[r,n,1],i=[r,n,new Date(r,n+1,0).getDate()],s=ve(t,c,i,!0),u=Object(A.a)(s,1)[0];return Object(L.jsxs)(Dt,{children:[Object(L.jsx)(Nt,{navId:"main",header:"".concat(fe[n]," ").concat(r),moveDate:a}),Object(L.jsx)(Tt,{children:be.map((function(e){return Object(L.jsx)(Ft,{children:e},e)}))}),Object(L.jsx)(Lt,{children:u.map((function(e){var t=e.id,a=e.day,c=e.events;return Object(L.jsx)(Et,{handleDayChange:function(){return o([r,n,a])},colors:c.map((function(e){var n=e.label,r=e._id;return n?{color:null===n||void 0===n?void 0:n.color,id:"".concat(r).concat(t)}:{}})),day:a},t)}))})]})},At=n(160),It=n(161),Vt=k.d.div(Ae||(Ae=Object(X.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: "," 0;\n"])),(function(e){return e.theme.margin.s})),Ht=k.d.button(Ie||(Ie=Object(X.a)(["\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.m})),Mt=k.d.h3(Ve||(Ve=Object(X.a)(["\n  width: 200px;\n  text-align: center;\n  line-height: 100%;\n  margin: 0;\n  @media (min-width: ",") {\n    width: 400px;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.media.tablet.s}),(function(e){return e.theme.font.sizes.ml})),Nt=function(e){var t=e.header,n=e.moveDate,r=e.navId,a=e.backToCalendar;return Object(L.jsxs)(Vt,{children:[Object(L.jsx)(Ht,{"data-testid":"moveLeft-".concat(r),onClick:function(){return n(x.LEFT)},children:Object(L.jsx)(At.a,{icon:It.a})}),Object(L.jsx)(Mt,{onClick:a,"data-testid":"dateCalendar-".concat(r),children:t}),Object(L.jsx)(Ht,{"data-testid":"moveRight-".concat(r),onClick:function(){return n(x.RIGHT)},children:Object(L.jsx)(At.a,{icon:It.b})})]})},Gt=k.d.div(He||(He=Object(X.a)(["\n  background-color: ",";\n  min-width: 275px;\n  min-height: 500px;\n  border: 1px solid ",";\n"])),(function(e){var t=e.theme;return e.active?t.colors.tile.backgroundActive:t.colors.tile.background}),(function(e){return e.theme.colors.border})),Pt=k.d.h3(Me||(Me=Object(X.a)(["\n  font-size: ",";\n  margin: "," 0;\n  text-align: center;\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m})),Wt=function(e){var t=e.events,n=e.header,r=e.active,a=e.labels,o=e.date,c=Object(A.a)(o,3),i=c[0],s=c[1],u=c[2];return Object(L.jsxs)(Gt,{active:r,children:[Object(L.jsx)(Pt,{children:n}),t.map((function(e){var t;return Object(L.jsx)(dn,{habbit:e,labels:a,day:o,checked:-1!==(null===e||void 0===e||null===(t=e.checked)||void 0===t?void 0:t.findIndex((function(e){var t=e.day,n=e.month,r=e.year;return t===u&&s===n&&r===i})))},e._id)}))]})},_t="".concat("https://habbit-tracker-back.herokuapp.com","/"),Bt="".concat(_t,"users/"),Yt="".concat(_t,"events/"),Jt="".concat(_t,"labels/"),Ut={LOGIN:"".concat(Bt,"login/"),REGISTER:"".concat(Bt,"register/"),LOGOUT:"".concat(Bt,"logout/"),EVENTS:Yt,LABELS:Jt},Xt=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n,r){var a,o,c;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.EVENTS,"?from=").concat(n,"&to=").concat(r),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"GET"});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",a.json());case 5:return e.next=7,a.json();case 7:throw o=e.sent,c=o.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qt=function(){var e=Object(ke.a)(ye.a.mark((function e(t){var n,r,a;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.LABELS),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"GET"});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n,r){var a,o,c;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.EVENTS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:r?"PUT":"POST",body:JSON.stringify(n)});case 2:if(201!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,a.json();case 7:throw o=e.sent,c=o.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n,r){var a,o,c;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.LABELS).concat(r?"".concat(r,"/"):""),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:r?"PUT":"POST",body:JSON.stringify(n)});case 2:if(200!==(a=e.sent).status||!r){e.next=5;break}return e.abrupt("return",a.json());case 5:if(201!==a.status){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,a.json();case 9:throw o=e.sent,c=o.message,new Error(c);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n){var r,a,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.LABELS).concat(n),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n){var r,a,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.EVENTS).concat(n),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"DELETE"});case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,r.json();case 7:throw a=e.sent,o=a.message,new Error(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),en=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n,r){var a,o,c;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ut.EVENTS,"check/").concat(n,"/"),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)},method:"PATCH",body:JSON.stringify(r)});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",a.json());case 5:return e.next=7,a.json();case 7:throw o=e.sent,c=o.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),tn=k.d.div(Ne||(Ne=Object(X.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),nn=k.d.small(Ge||(Ge=Object(X.a)(["\n  background-color: ",";\n  padding: ",";\n  width: auto;\n  border-radius: 20px;\n"])),(function(e){return e.color}),(function(e){return e.theme.margin.s})),rn=Object(k.c)(Pe||(Pe=Object(X.a)(["\n  text-decoration: line-through;\n  color: gray;\n"]))),an=k.d.div(We||(We=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 ",";\n  border-left: 1px solid ",";\n  margin: 0 ",";\n  margin-top: ",";\n  overflow-y: scroll;\n  &:hover {\n    cursor: pointer;\n  }\n  ","\n"])),(function(e){return e.theme.margin.s}),(function(e){return e.theme.colors.tile.border}),(function(e){return e.theme.margin.s}),(function(e){return e.theme.margin.xs}),(function(e){return e.checked&&rn})),on=k.d.h2(_e||(_e=Object(X.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n  margin-top: 0;\n"])),(function(e){return e.theme.font.sizes.ml}),(function(e){return e.theme.margin.xs})),cn=k.d.p(Be||(Be=Object(X.a)(["\n  color: gray;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),sn=k.d.p(Ye||(Ye=Object(X.a)(["\n  text-align: justify;\n"]))),un=p.SUCCESS,dn=function(e){var t=e.habbit,n=e.labels,r=e.checked,a=e.day,o=t.title,c=t.timeEnd,i=t.timeStart,s=t.description,u=t.label,d=t._id,l=Object(O.useState)(!1),b=Object(A.a)(l,2),m=b[0],f=b[1],h=Object(O.useRef)(W()),j=N().token,x=J().handleRefHabbit,p=function(){var e=Object(ke.a)(ye.a.mark((function e(){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zt(j,d);case 3:h.current.showAlert("Succesfuly deleted habbit.",un),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.current.showAlert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(ke.a)(ye.a.mark((function e(){var t;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,en(j,d,a);case 3:t=e.sent,h.current.showAlert(t.message,un),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(tn,{children:[Object(L.jsx)(Kn,{size:"s",mx:"0.75rem",noMaxWidth:!0,"data-testid":"edit",onClick:function(){return f(!0)},children:"Edit habbit"}),Object(L.jsx)(Kn,{size:"s",close:!0,noMaxWidth:!0,"data-testid":"delete",onClick:p,children:"X"}),Object(L.jsxs)(an,{checked:r,onClick:g,children:[u&&Object(L.jsx)(nn,{color:u.color,children:u.title}),Object(L.jsx)(on,{children:o}),Object(L.jsx)(cn,{children:"".concat(i,"-").concat(c)}),Object(L.jsx)(sn,{children:s})]}),Object(L.jsx)(xn,{open:m,handleClose:function(){return f(!1)},labels:n,event:t})]})},ln=k.d.div(Je||(Je=Object(X.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: scroll;\n"]))),bn=function(e){var t=e.from,n=e.to,r=e.token,a=Object(O.useRef)(null),o=ht(),c=Object(A.a)(o,1)[0],i=pe(t),s=pe(n),u=J(),d=u.refHabbit,l=u.refLabel,b=ft([t,n,r,d,l],(function(){return Xt(r,i,s)})),m=Object(A.a)(b,3),f=m[0],h=m[1],j=m[2],x=ft([r,l],(function(){return qt(r)})),p=Object(A.a)(x,3),g=p[0],v=p[1],w=p[2],y=ve(f,t,n),k=Object(A.a)(y,1)[0];Object(O.useLayoutEffect)((function(){if(k.length>1&&a&&a.current&&a.current.scrollWidth>c){var e,t=a.current.scrollWidth/2-c/2;null===a||void 0===a||null===(e=a.current)||void 0===e||e.scroll(t,0)}}),[k,a]);var S=xe(new Date(i)),z=new Date(i).getTime(),C=new Date;C.setHours(0,0,0,0);var E=C.getTime(),D=Object(A.a)(t,2),T=D[0],F=D[1],R=new Date(T,F+1,0).getDate();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ln,{ref:a,children:k.map((function(e,t){var n=e.events,r=e.id,a=e.day,o=S+t>6?(S+t)%7:S+t,c=new Date(z);c.setHours(0,0,0,0);var i=c.getTime();z+=864e5;var s=a;return a>R&&(s=a-R),Object(L.jsx)(Wt,{active:E===i,header:me[o],events:n,labels:g,date:[T,F,s]},r)}))}),Object(L.jsx)(gr,{loading:h||v,error:j||w})]})},mn=n(64),fn=n(23),hn=k.d.div(Ue||(Ue=Object(X.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),jn=p.SUCCESS,xn=function(e){var t=e.handleClose,n=e.open,r=e.labels,a=e.event,o=Object(fn.b)(),c=o.register,i=o.handleSubmit,s=o.errors,u=o.control,d=o.reset,l=o.watch,b=Object(O.useRef)(W()),m=N().token,f=J().handleRefHabbit;Object(O.useEffect)((function(){var e={};if(a){var t=a.label,n=a.dateStart,r=a.dateEnd;e=Object(S.a)(Object(S.a)({},a),{},{label:null===t||void 0===t?void 0:t._id,dateStart:new Date(n),dateEnd:new Date(r)}),d(e)}}),[a]);var h=function(){var e=Object(ke.a)(ye.a.mark((function e(n){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$t(m,n,null===a||void 0===a?void 0:a._id);case 3:b.current.showAlert("Succesfuly ".concat((null===a||void 0===a?void 0:a._id)?"edited":"added"," habbit."),jn),t(),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=l("dateStart")?new Date(l("dateStart")):void 0,x=l("dateEnd")?new Date(l("dateEnd")):void 0,p=Object(O.useCallback)((function(e,t){if(e){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n}}),[]);return Object(L.jsx)(zr,{open:n,handleClose:t,header:"Add habbit",children:Object(L.jsxs)(hn,{as:"form",onSubmit:i(h),noValidate:!0,children:[Object(L.jsx)(nr,{name:"title",label:"Title",id:"title",refVal:c(Ot("title")),minLength:6,maxLength:30,error:s.title,"data-testid":"title"}),Object(L.jsx)(nr,{name:"description",label:"Description",id:"description",refVal:c(),error:s.description,"data-testid":"description",type:"textarea"}),Object(L.jsx)(Sn,{control:u,error:s.daysOfWeek}),Object(L.jsx)(Lr,{control:u,name:"dateStart",header:"Date start",maxDate:p(x,-7),error:s.dateStart}),Object(L.jsx)(Lr,{control:u,name:"dateEnd",header:"Date end",minDate:p(j,7),error:s.dateEnd}),Object(L.jsx)(nr,{name:"timeStart",label:"Time start",id:"timeStart",refVal:c(vt("00:00",l("timeEnd"))),error:s.timeStart,type:"time","data-testid":"timeStart"}),Object(L.jsx)(nr,{name:"timeEnd",label:"Time end",id:"timeEnd",refVal:c(vt(l("timeStart"),"23:59")),error:s.timeStart,type:"time","data-testid":"timeEnd"}),Object(L.jsx)(Fr,{name:"label",label:"Label",control:u,options:null===r||void 0===r?void 0:r.map((function(e){var t=e._id,n=e.title,r=Object(mn.a)(e,["_id","title"]);return Object(S.a)({key:t,value:n},r)}))}),Object(L.jsx)(Kn,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},pn=k.d.div(Xe||(Xe=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n  width: 100%;\n  max-width: 300px;\n"])),(function(e){return e.theme.margin.sm})),On=k.d.label(qe||(qe=Object(X.a)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.s})),gn=k.d.input($e||($e=Object(X.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var t=e.error,n=e.theme;return t&&"1px solid ".concat(n.colors.error.main)})),vn=k.d.textarea(Ke||(Ke=Object(X.a)(["\n  font-size: ",";\n  width: 100%;\n  max-width: 300px;\n  border: ",";\n  &:focus {\n    outline: thin dotted;\n  }\n"])),(function(e){return e.theme.font.sizes.sm}),(function(e){var t=e.error,n=e.theme;return t&&"1px solid ".concat(n.colors.error.main)})),wn=k.d.p(Qe||(Qe=Object(X.a)(["\n  margin-top: ",";\n  color: ",";\n  text-align: justify;\n"])),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.colors.error.main})),yn=k.d.select(Ze||(Ze=Object(X.a)(["\n  width: 100%;\n"]))),kn=k.d.option(et||(et=Object(X.a)(["\n  background-color: ",";\n  border: 1px solid black;\n  height: 50px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ",";\n"])),(function(e){return e.theme.colors.common.white}),(function(e){return e.theme.font.sizes.m})),Sn=function(e){var t=e.control,n=e.error;return Object(L.jsxs)(pn,{children:[Object(L.jsx)(On,{children:"Week days"}),Object(L.jsx)(fn.a,{name:"daysOfWeek",control:t,rules:{validate:function(e){var t="Min. 1 week day is required.";return e&&0!==e.length||t}},render:function(e){var t=e.onChange,n=e.value;return Object(L.jsx)(yn,{multiple:!0,value:n,required:!0,onChange:function(e){var r=e.target.value;if(n){var a=Object(le.a)(n);(a=a.filter((function(e){return e!==r}))).length===n.length&&a.push(r),t(a)}else t([r])},children:be.map((function(e,t){return Object(L.jsx)(kn,{value:t,children:e},e)}))})}}),n&&Object(L.jsx)(wn,{children:null===n||void 0===n?void 0:n.message})]})},zn=n(274),Cn=p.SUCCESS,En=function(e){var t=e.handleClose,n=e.open,r=e.label,a=Object(fn.b)({defaultValues:Object(S.a)({color:"#50E3C2"},r)}),o=a.register,c=a.handleSubmit,i=a.errors,s=a.control,u=Object(O.useRef)(W()),d=N().token,l=J().handleRefLabel,b=function(){var e=Object(ke.a)(ye.a.mark((function e(n){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt(d,n,null===r||void 0===r?void 0:r._id);case 3:u.current.showAlert("Succesfuly ".concat((null===r||void 0===r?void 0:r._id)?"edited":"added"," label."),Cn),t(),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(zr,{open:n,handleClose:t,header:"Add label",fullHeight:!!(null===r||void 0===r?void 0:r._id),children:Object(L.jsxs)(hn,{as:"form",onSubmit:c(b),noValidate:!0,children:[Object(L.jsx)(nr,{name:"title",label:"Title",id:"title",refVal:o(Ot("title")),minLength:6,maxLength:30,error:i.title,"data-testid":"title"}),Object(L.jsx)(fn.a,{name:"color",control:s,render:function(e){var t=e.onChange,n=e.value;return Object(L.jsx)(zn.a,{color:n,onChangeComplete:function(e){return t(e.hex)}})}}),Object(L.jsx)(Kn,{size:"s",mt:"16px",type:"submit","data-testid":"submit",children:"Send"})]})})},Dn=p.SUCCESS,Ln=function(e){var t=e.handleClose,n=e.open,r=e.labels,a=N().token,o=Object(O.useRef)(W()),c=J(),i=c.handleRefHabbit,s=c.handleRefLabel,u=function(){var e=Object(ke.a)(ye.a.mark((function e(t){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qt(a,t);case 3:o.current.showAlert("Succesfuly deleted label.",Dn),s(),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.current.showAlert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(zr,{open:n,handleClose:t,header:"Label list",children:Object(L.jsx)(L.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(L.jsx)(An,{label:e,handleDelete:u},e._id)}))})})},Tn=function(e){var t=e.events,n=e.actualMonth,r=e.moveDate,a=e.actualYear,o=e.handleChangeView,c=Object(O.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1],d=Object(O.useState)(!1),l=Object(A.a)(d,2),b=l[0],m=l[1],f=Object(O.useState)(!1),h=Object(A.a)(f,2),j=h[0],x=h[1],p=J().refLabel,g=N().token,v=ft([g,p],(function(){return qt(g)})),w=Object(A.a)(v,3),y=w[0],k=w[1],S=w[2];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Rt,{events:t,month:n,moveDate:r,year:a,handleDayChange:o}),Object(L.jsxs)(yt,{children:[Object(L.jsx)(Kn,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"addh",onClick:function(){return u(!0)},children:"Add habbit"}),Object(L.jsx)(Kn,{size:"s",noMaxWidth:!0,mt:"16px",mx:"16px","data-testid":"addl",onClick:function(){return m(!0)},children:"Add label"}),Object(L.jsx)(Kn,{size:"s",noMaxWidth:!0,mt:"16px","data-testid":"labell",onClick:function(){return x(!0)},children:"Label list"})]}),Object(L.jsx)(xn,{open:s,handleClose:function(){return u(!1)},labels:y}),Object(L.jsx)(En,{open:b,handleClose:function(){return m(!1)}}),Object(L.jsx)(Ln,{open:j,handleClose:function(){return x(!1)},labels:y}),Object(L.jsx)(gr,{loading:k,error:S})]})},Fn=k.d.div(tt||(tt=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: ",";\n  padding-top: 0;\n"])),(function(e){return e.theme.margin.s})),Rn=k.d.div(nt||(nt=Object(X.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.xs})),An=function(e){var t=e.label,n=e.handleDelete,r=t._id,a=t.color,o=t.title,c=Object(O.useState)(!1),i=Object(A.a)(c,2),s=i[0],u=i[1];return Object(L.jsxs)(Fn,{children:[Object(L.jsxs)(Rn,{children:[Object(L.jsx)(Kn,{size:"s",mr:"0.75rem",noMaxWidth:!0,"data-testid":"edit",onClick:function(){return u(!0)},children:"Edit label"}),Object(L.jsx)(Kn,{size:"s",close:!0,noMaxWidth:!0,"data-testid":"delete",onClick:function(){return n(r)},children:"X"})]}),Object(L.jsx)(nn,{color:a,children:o}),Object(L.jsx)(En,{handleClose:function(){return u(!1)},open:s,label:t})]},r)},In=function(){var e=Object(O.useState)(new Date),t=Object(A.a)(e,1)[0],n=Object(O.useState)(t.getMonth()),r=Object(A.a)(n,2),a=r[0],o=r[1],c=Object(O.useState)(t.getFullYear()),i=Object(A.a)(c,2),s=i[0],u=i[1],d=je(new Date(s,a,2)),l=33-new Date(s,a,32).getDate(),b=je(new Date(s,a,l)),m=N().token,f=ht(),h=Object(A.a)(f,1)[0],j=J(),p=j.refHabbit,g=j.refLabel,v=Object(O.useState)(!1),w=Object(A.a)(v,2),y=w[0],k=w[1],S=Object(O.useState)([s,a,t.getDate()]),z=Object(A.a)(S,2),C=z[0],E=z[1],D=Object(A.a)(C,3),T=D[0],F=D[1],R=D[2],I=ft([d,b,m,p,g],(function(){return Xt(m,d,b)})),V=Object(A.a)(I,3),H=V[0],M=V[1],G=V[2],P=function(e){e===x.LEFT?0===a?(o(11),u((function(e){return e-1}))):o((function(t){return t+e})):11===a?(o(0),u((function(e){return e+1}))):o((function(t){return t+e}))},W=function(e){k((function(e){return!e})),e&&E(e)},_=Object(O.useMemo)((function(){return function(e){var t=Object(A.a)(e,3),n=t[0],r=t[1],a=t[2],o=new Date(n,r+1,0).getDate(),c=Object(le.a)(e),i=c[0],s=c[1],u=c[2],d=Object(le.a)(e),l=d[0],b=d[1],m=d[2];return a+3>o?(11===r?(b=0,l+=1):b=r+1,m=a+3-o):m=a+3,a-3<1?(0===r?(s=11,i-=1):s=r-1,u=a-3+new Date(n,r,0).getDate()):u=a-3,[[i,s,u],[l,b,m]]}(C)}),[C]),B=Object(A.a)(_,2),Y=B[0],U=B[1];return Object(L.jsx)(wt,{children:h>=768?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Tn,{moveDate:P,events:H,actualMonth:a,actualYear:s,handleChangeView:W}),Object(L.jsx)(gr,{loading:M,error:G}),Object(L.jsx)(Nt,{navId:"desktopDay",header:"".concat(Oe(Y)," - ").concat(Oe(U)),moveDate:function(e){return function(e,t,n){var r=Object(A.a)(t,3),a=r[0],o=r[1],c=r[2],i=new Date(a,o+1,0).getDate();if(e===x.RIGHT)if(c+7>i){var s=c+7-i;n(11===o?[a+1,0,s]:[a,o+1,s])}else n([a,o,c+7]);else if(c-7<1){var u=c-7+new Date(a,o,0).getDate();n(0===o?[a-1,11,u]:[a,o-1,u])}else n([a,o,c-7])}(e,C,E)}}),Object(L.jsx)(bn,{from:Y,to:U,token:m})]}):y?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Nt,{navId:"mobileDay",header:"".concat(R," ").concat(fe[F]," ").concat(T),moveDate:function(e){return function(e,t,n){var r=Object(A.a)(t,3),a=r[0],o=r[1],c=r[2],i=new Date(a,o+1,0).getDate();e===x.RIGHT?n(c===i?11===o?[a+1,0,1]:[a,o+1,1]:[a,o,c+1]):n(1===c?0===o?[a-1,11,31]:[a,o-1,new Date(a,o,0).getDate()]:[a,o,c-1])}(e,C,E)},backToCalendar:function(){return k(!1)}}),Object(L.jsx)(bn,{from:C,to:C,token:m})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Tn,{moveDate:P,events:H,actualMonth:a,actualYear:s,handleChangeView:W}),Object(L.jsx)(gr,{loading:M,error:G})]})})},Vn=Object(k.d)(ae)(rt||(rt=Object(X.a)(["\n  height: 100vh;\n  width: 100%;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),Hn=function(){var e=Object(ke.a)(ye.a.mark((function e(t){var n,r,a;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ut.LOGIN,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(O.useState)(""),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(O.useState)(!1),o=Object(A.a)(a,2),c=o[0],i=o[1],s=N(),u=Object(fn.b)(),d=u.register,l=u.handleSubmit,b=u.errors,m=Object(jt.g)(),f=function(){var e=Object(ke.a)(ye.a.mark((function e(t){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,Hn(t);case 4:n=e.sent,i(!1),s.login(n.token),m.push(re.CALENDAR),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),r(e.t0.message),i(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return s.token?Object(L.jsx)(jt.a,{to:re.CALENDAR}):Object(L.jsx)(tr,{children:Object(L.jsxs)(Vn,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(L.jsx)(nr,{name:"login",label:"Login",id:"login",refVal:d(Ot("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(L.jsx)(nr,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ot("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(L.jsx)(gr,{error:n,loading:c}),Object(L.jsx)(Kn,{size:"m",mt:"16px",type:"submit","data-testid":"submit",children:"Log in"})]})})},Nn=function(){var e=Object(ke.a)(ye.a.mark((function e(t){var n,r,a;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ut.REGISTER,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.json());case 5:return e.next=7,n.json();case 7:throw r=e.sent,a=r.message,new Error(a||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=re.DASHBOARD,Pn=re.CALENDAR,Wn=re.LOGIN,_n=re.REGISTER,Bn=[{link:Gn,name:"Home page"},{link:Pn,name:"Your tracker"},{link:Wn,name:"Login"},{link:_n,name:"Register"}],Yn=[{path:Gn,Component:de,exact:!0},{path:Pn,Component:In,isPrivate:!0},{path:Wn,Component:Mn},{path:_n,Component:function(){var e=Object(O.useState)(""),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(O.useState)(!1),o=Object(A.a)(a,2),c=o[0],i=o[1],s=N(),u=Object(fn.b)(),d=u.register,l=u.handleSubmit,b=u.errors,m=Object(jt.g)(),f=function(){var e=Object(ke.a)(ye.a.mark((function e(t){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.passwordRepeat){e.next=17;break}return i(!0),e.prev=2,e.next=5,Nn(t);case 5:n=e.sent,i(!1),s.login(n.token),m.push(re.CALENDAR),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r(e.t0.message),i(!1);case 15:e.next=18;break;case 17:r("Passwords must be equal.");case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return s.token?Object(L.jsx)(jt.a,{to:re.CALENDAR}):Object(L.jsx)(tr,{children:Object(L.jsxs)(Vn,{as:"form",onSubmit:l(f),noValidate:!0,children:[Object(L.jsx)("h2",{children:"Create new account"}),Object(L.jsx)(nr,{name:"login",label:"Login",id:"login",refVal:d(Ot("login")),minLength:6,maxLength:30,error:b.login,"data-testid":"login"}),Object(L.jsx)(nr,{name:"email",label:"Email",id:"email",type:"email",refVal:d(Object(S.a)(Object(S.a)({},xt("email")),pt)),error:b.email,"data-testid":"email"}),Object(L.jsx)(nr,{name:"password",label:"Password",id:"password",type:"password",refVal:d(Ot("password")),autoComplete:"on",minLength:6,maxLength:30,error:b.password,"data-testid":"password"}),Object(L.jsx)(nr,{name:"passwordRepeat",label:"Repeat password",id:"passwordRepeat",type:"password",refVal:d(Ot("repeat password")),autoComplete:"on",minLength:6,maxLength:30,error:b.passwordRepeat,"data-testid":"passwordRepeat"}),Object(L.jsx)(gr,{error:n,loading:c}),Object(L.jsx)(Kn,{size:"m",type:"submit","data-testid":"submit",children:"Create account"})]})})}}],Jn=k.d.nav(at||(at=Object(X.a)(["\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  background-color: ",";\n  z-index: ",";\n"])),(function(e){var t=e.open;return"scale(".concat(t?"1":"0",")")}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return"opacity ".concat(t.time.medium,"ms")}),(function(e){return e.theme.colors.nav.background}),(function(e){return e.theme.zIndex.medium})),Un=k.d.div(ot||(ot=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Xn=Object(k.d)(y.b)(ct||(ct=Object(X.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: ",";\n  margin-bottom: ",";\n  transform: ",";\n  opacity: ",";\n  transition: ",";\n"])),(function(e){return e.theme.colors.text.nav}),(function(e){return e.theme.font.sizes.m}),(function(e){return e.theme.margin.m}),(function(e){var t=e.open;return"scale(".concat(t?"1":"2",") translateY(").concat(t?"0px":"-50px",")")}),(function(e){return e.open?"1":"0"}),(function(e){var t=e.theme;return e.open?"".concat(t.time.medium,"ms"):"0"})),qn=function(e){var t=e.open,n=e.handleClose;return Object(L.jsx)(Jn,{open:t,children:Object(L.jsx)(Un,{children:Bn.map((function(e){var r=e.name,a=e.link;return Object(L.jsx)(Xn,{open:t,to:a,onClick:function(){return n()},children:r},r)}))})})},$n=function(){var e=Object(O.useState)(!1),t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(q,{open:n,"data-testid":"navButton",onClick:function(){return r((function(e){return!e}))},children:[Object(L.jsx)(K,{open:n}),Object(L.jsx)(Q,{open:n}),Object(L.jsx)(Z,{open:n}),Object(L.jsx)(ee,{open:n}),Object(L.jsx)(te,{open:n}),Object(L.jsx)(ne,{open:n})]}),Object(L.jsx)(qn,{open:n,handleClose:function(){return r(!1)}})]})},Kn=k.d.button(it||(it=Object(X.a)(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ",";\n  font-size: ",";\n  min-width: ",";\n  display: inline-block;\n  text-align: center;\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){var t=e.theme;return e.close?t.colors.common.black:t.colors.button.text}),(function(e){var t=e.theme;return e.close?t.colors.error.main:t.colors.button.background}),(function(e){return e.theme.colors.border}),(function(e){var t=e.theme,n=e.size;return n?t.margin[n]:t.margin.s}),(function(e){var t=e.theme,n=e.size;return n?t.font.sizes[n]:t.font.sizes.s}),(function(e){return e.noMaxWidth?"none":"150px"}),(function(e){return e.mt||0}),(function(e){return e.mx||0}),(function(e){var t=e.mx;return e.mr||t||0})),Qn=k.d.header(st||(st=Object(X.a)(["\n  position: fixed;\n  top: ",";\n  width: 100%;\n  text-align: center;\n  height: ",";\n  line-height: ",";\n  z-index: ",";\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: ",") {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.sizes.nav}),(function(e){return e.theme.zIndex.max}),(function(e){return e.theme.media.phone.s}),(function(e){return e.theme.font.sizes.xs})),Zn=Object(k.d)(y.b)(ut||(ut=Object(X.a)(["\n  color: ",";\n  text-decoration: none;\n"])),(function(e){return e.theme.colors.common.black})),er=function(){return Object(L.jsx)(Qn,{children:Object(L.jsx)(Zn,{to:re.DASHBOARD,children:Object(L.jsx)("h1",{children:"Habbit tracker"})})})},tr=k.d.main(dt||(dt=Object(X.a)(["\n  min-height: 100vh;\n  width: 100%;\n"]))),nr=function(e){var t=e.label,n=e.id,r=e.refVal,a=e.error,o=e.type,c=void 0===o?"text":o,i=Object(mn.a)(e,["label","id","refVal","error","type"]);return Object(L.jsxs)(pn,{children:[Object(L.jsx)(On,{htmlFor:n,children:t}),"textarea"===c?Object(L.jsx)(vn,Object(S.a)(Object(S.a)({error:!!a,id:n},i),{},{ref:r})):Object(L.jsx)(gn,Object(S.a)(Object(S.a)({error:!!a,id:n,type:c},i),{},{ref:r})),a&&Object(L.jsx)(wn,{children:null===a||void 0===a?void 0:a.message})]})};!function(e){e.ERROR="error",e.LOADING="loading"}(lt||(lt={}));var rr,ar,or,cr,ir,sr,ur,dr,lr,br,mr,fr,hr,jr,xr=k.d.div(bt||(bt=Object(X.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n"])),(function(e){return e.theme.margin.s})),pr=k.d.div(mt||(mt=Object(X.a)(["\n  border: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n"])),(function(e){var t=e.type,n=e.theme;return"1px solid ".concat(n.colors[t].border)}),(function(e){var t=e.type,n=e.theme;return"".concat(n.colors[t].main)}),(function(e){var t=e.type,n=e.theme;return"".concat(n.colors[t].text)}),(function(e){return e.theme.margin.xs}),(function(e){return e.theme.font.sizes.s})),Or=function(e){var t=e.children,n=void 0===t?"\u0141adowanie...":t,r=e.type,a=void 0===r?lt.ERROR:r;return Object(L.jsx)(xr,{children:Object(L.jsx)(pr,{"data-testid":"alert",type:a,children:n})})},gr=function(e){var t=e.error,n=e.loading,r=Object(mn.a)(e,["error","loading"]);return t?Object(L.jsx)(Or,Object(S.a)(Object(S.a)({},r),{},{children:t})):n?Object(L.jsx)(Or,Object(S.a)(Object(S.a)({},r),{},{type:lt.LOADING})):null},vr=k.d.div(rr||(rr=Object(X.a)(["\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: ",";\n  background-color: rgba(0, 0, 0, 0.3);\n"])),(function(e){return e.theme.zIndex.max})),wr=k.d.div(ar||(ar=Object(X.a)(["\n  position: fixed;\n  width: ",";\n  height: ",";\n  top: ",";\n  left: 50%;\n  transform: translateX(-50%);\n  padding: "," 0;\n  background-color: ",";\n  border: 1px solid ",";\n  z-index: ",";\n  max-width: 350px;\n  overflow: scroll;\n"])),(function(e){var t=e.theme;return e.fullHeight?"100%":"calc(100% - ".concat(t.margin.sm," - ").concat(t.margin.sm,")")}),(function(e){var t=e.theme;return"calc(100vh - ".concat(t.margin.sm," -  ").concat(t.margin.sm,")")}),(function(e){var t=e.theme;return e.fullHeight?"0":t.margin.sm}),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.colors.modalBackground}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.zIndex.max})),yr=k.d.h2(or||(or=Object(X.a)(["\n  width: 100%;\n  text-align: center;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.ml})),kr=k.d.button(cr||(cr=Object(X.a)(["\n  width: 50px;\n  height: 50px;\n  position: relative;\n  display: block;\n  margin-left: auto;\n  margin-right: 0;\n  border: none;\n  background-color: transparent;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),Sr=k.d.div(ir||(ir=Object(X.a)(["\n  height: 100%;\n  width: 2px;\n  position: absolute;\n  top: 0%;\n  left: 50%;\n  background-color: ",";\n  transform: ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){var t=e.rotate;return"rotate(".concat(t,"deg)")})),zr=function(e){var t=e.open,n=e.handleClose,r=e.header,a=e.children,o=e.fullHeight;return t?Object(L.jsxs)(L.Fragment,{children:[!o&&Object(L.jsx)(vr,{onClick:n}),Object(L.jsxs)(wr,{fullHeight:o,children:[Object(L.jsxs)(kr,{type:"button",onClick:n,children:[Object(L.jsx)(Sr,{rotate:45}),Object(L.jsx)(Sr,{rotate:-45})]}),Object(L.jsx)(yr,{children:r}),a]})]}):null},Cr=n(271),Er=n.n(Cr),Dr=(n(685),k.d.div(sr||(sr=Object(X.a)(["\n  width: 100%;\n  max-width: 300px;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.margin.sm}))),Lr=(n(686),function(e){var t=e.control,n=e.name,r=e.header,a=e.maxDate,o=e.minDate,c=e.error;return Object(L.jsxs)(Dr,{children:[Object(L.jsx)(On,{children:r}),Object(L.jsx)(fn.a,{name:n,control:t,rules:{required:"Date is required."},render:function(e){var t=e.onChange,n=e.value;return Object(L.jsx)(Er.a,{maxDate:a,minDate:o,selected:n,onChange:t})}}),c&&Object(L.jsx)(wn,{children:null===c||void 0===c?void 0:c.message})]})}),Tr=k.d.select(ur||(ur=Object(X.a)(["\n  width: 100%;\n  max-width: 300px;\n  font-size: ",";\n"])),(function(e){return e.theme.font.sizes.sm})),Fr=function(e){var t=e.options,n=e.control,r=e.name,a=e.label;return Object(L.jsxs)(pn,{children:[Object(L.jsx)(On,{children:a}),Object(L.jsx)(fn.a,{name:r,control:n,render:function(e){var n=e.onChange,r=e.value;return Object(L.jsxs)(Tr,{value:r,onChange:n,children:[Object(L.jsx)("option",{value:"",children:"----Brak labelu----"},"1"),t.map((function(e){var t=e.key,n=e.value;return Object(L.jsx)("option",{value:t,children:n},t)}))]})}})]})},Rr=p.ERROR,Ar=p.SUCCESS,Ir=Object(k.e)(dr||(dr=Object(X.a)(["\n  0% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n\n  12% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  88% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-50%);\n  }\n"]))),Vr=Object(k.e)(lr||(lr=Object(X.a)(["\n  0% {\n    transform: translateX(-50%) scale(0);\n  }\n  1% {\n    transform: translateX(-50%) scale(1);\n  }\n  99% {\n    transform: translateX(-50%) scale(1);\n  }\n  100% {\n    transform: translateX(-50%) scale(0);\n  }\n"]))),Hr=Object(k.c)(br||(br=Object(X.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.error.main}),(function(e){return e.theme.colors.error.text}),(function(e){return e.theme.colors.error.border})),Mr=Object(k.c)(mr||(mr=Object(X.a)(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.success.main}),(function(e){return e.theme.colors.success.text}),(function(e){return e.theme.colors.success.border})),Nr=k.d.div(fr||(fr=Object(X.a)(["\n  transition: 0.15s linear;\n  opacity: 1;\n  animation: "," 6s forwards;\n  width: 100%;\n  max-width: 300px;\n  padding: ",";\n  text-align: justify;\n  ",";\n"])),Ir,(function(e){return e.theme.margin.s}),(function(e){switch(e.type){case Rr:return Hr;case Ar:return Mr;default:return Hr}})),Gr=k.d.div(hr||(hr=Object(X.a)(["\n  position: fixed;\n  top: 1rem;\n  left: 50%;\n  z-index: 1100;\n  padding: 0 0.5rem;\n  transform: translateX(-50%);\n  animation: "," 6s forwards;\n"])),Vr),Pr=function(e){var t=e.message,n=e.variant,r=e.handleClose;return Object(L.jsx)(Gr,{children:Object(L.jsx)(Nr,{type:n,onClick:function(){return r(!1)},children:t})})},Wr=function(){var e=W();return e.open?Object(L.jsx)(Pr,{message:e.message,handleClose:e.changeVisibility,variant:e.variant}):null},_r=Object(k.b)(jr||(jr=Object(X.a)(["\n    body{\n        color: ",";\n        background-color: ",";\n        font-family: 'Roboto', sans-serif;\n        overflow-x: hidden;\n    }\n    * {\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.body})),Br=function(){return Object(L.jsx)(R,{children:Object(L.jsx)(U,{children:Object(L.jsx)(_,{children:Object(L.jsxs)(G,{children:[Object(L.jsx)(_r,{}),Object(L.jsxs)(y.a,{basename:"/habbit-tracker",children:[Object(L.jsx)(er,{}),Object(L.jsx)(Wr,{}),Object(L.jsx)($n,{}),Object(L.jsx)(Jr,{})]})]})})})})},Yr=function(e){var t=Object.assign({},e);return N().token?Object(L.jsx)(jt.b,Object(S.a)({},t)):Object(L.jsx)(jt.a,{to:re.LOGIN})},Jr=function(){return Object(L.jsx)(jt.d,{children:Yn.map((function(e){var t=e.path,n=e.Component;return e.isPrivate?Object(L.jsx)(Yr,{path:t,children:Object(L.jsx)(n,{})},t):Object(L.jsx)(jt.b,{path:t,exact:!0,children:Object(L.jsx)(n,{})},t)}))})},Ur=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,773)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};w.a.render(Object(L.jsx)(g.a.StrictMode,{children:Object(L.jsx)(Br,{})}),document.getElementById("root")),Ur()}},[[770,1,2]]]);
//# sourceMappingURL=main.705d1e4a.chunk.js.map